diff -NurpP dietlibc-0.30/alpha/accept.S dietlibc-0.30-execstack/alpha/accept.S
--- dietlibc-0.30/alpha/accept.S	2001-01-30 15:46:52.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/accept.S	2006-09-07 12:24:13.095172250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(accept,accept,__libc_accept)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/bind.S dietlibc-0.30-execstack/alpha/bind.S
--- dietlibc-0.30/alpha/bind.S	2001-01-09 18:57:38.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/bind.S	2006-09-07 12:24:13.095172250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(bind,bind)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/clone.S dietlibc-0.30-execstack/alpha/clone.S
--- dietlibc-0.30/alpha/clone.S	2001-06-16 22:51:43.000000000 +0200
+++ dietlibc-0.30-execstack/alpha/clone.S	2006-09-07 12:24:13.095172250 +0200
@@ -40,3 +40,7 @@ __clone:
 	mov	$0,  $16
 	jsr	$26, exit
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/connect.S dietlibc-0.30-execstack/alpha/connect.S
--- dietlibc-0.30/alpha/connect.S	2001-01-30 15:46:52.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/connect.S	2006-09-07 12:24:13.091172000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(connect,connect,__libc_connect)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/divl.S dietlibc-0.30-execstack/alpha/divl.S
--- dietlibc-0.30/alpha/divl.S	2001-03-08 15:58:41.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/divl.S	2006-09-07 12:24:13.095172250 +0200
@@ -99,3 +99,7 @@ __divl :
 	ret	$31 , ($23  ), 1
 
 	.end	__divl
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/divq.S dietlibc-0.30-execstack/alpha/divq.S
--- dietlibc-0.30/alpha/divq.S	2001-01-09 18:57:38.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/divq.S	2006-09-07 12:24:13.091172000 +0200
@@ -100,3 +100,7 @@ __divq :
 
         .end    __divq
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/errlist.S dietlibc-0.30-execstack/alpha/errlist.S
--- dietlibc-0.30/alpha/errlist.S	2005-05-15 01:35:39.000000000 +0200
+++ dietlibc-0.30-execstack/alpha/errlist.S	2006-09-07 12:24:13.091172000 +0200
@@ -296,3 +296,7 @@ sys_nerr:
 .LC134: .string "Key has been revoked"
 .LC135: .string "Key was rejected by service"
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/getegid.S dietlibc-0.30-execstack/alpha/getegid.S
--- dietlibc-0.30/alpha/getegid.S	2001-01-09 18:57:38.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/getegid.S	2006-09-07 12:24:13.099172500 +0200
@@ -9,3 +9,7 @@ getegid:
 	lda	$sp, 8($sp)
 	cmovge	$0, $20, $0
 	ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/geteuid.S dietlibc-0.30-execstack/alpha/geteuid.S
--- dietlibc-0.30/alpha/geteuid.S	2001-01-09 18:57:38.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/geteuid.S	2006-09-07 12:24:13.095172250 +0200
@@ -9,3 +9,7 @@ geteuid:
 	lda	$sp, 8($sp)
 	cmovge	$0, $20, $0
 	ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/getgid.S dietlibc-0.30-execstack/alpha/getgid.S
--- dietlibc-0.30/alpha/getgid.S	2001-01-09 18:57:38.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/getgid.S	2006-09-07 12:24:13.091172000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getxgid,getgid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/getpeername.S dietlibc-0.30-execstack/alpha/getpeername.S
--- dietlibc-0.30/alpha/getpeername.S	2001-01-09 18:57:38.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/getpeername.S	2006-09-07 12:24:13.095172250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getpeername,getpeername)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/getpid.S dietlibc-0.30-execstack/alpha/getpid.S
--- dietlibc-0.30/alpha/getpid.S	2001-01-09 18:57:38.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/getpid.S	2006-09-07 12:24:13.095172250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getxpid,getpid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/getppid.S dietlibc-0.30-execstack/alpha/getppid.S
--- dietlibc-0.30/alpha/getppid.S	2001-01-09 18:57:38.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/getppid.S	2006-09-07 12:24:13.095172250 +0200
@@ -9,3 +9,7 @@ getppid:
 	lda	$sp, 8($sp)
 	cmovge	$0, $20, $0
 	ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/getsockname.S dietlibc-0.30-execstack/alpha/getsockname.S
--- dietlibc-0.30/alpha/getsockname.S	2001-01-09 18:57:38.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/getsockname.S	2006-09-07 12:24:13.091172000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getsockname,getsockname)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/getsockopt.S dietlibc-0.30-execstack/alpha/getsockopt.S
--- dietlibc-0.30/alpha/getsockopt.S	2001-01-09 18:57:38.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/getsockopt.S	2006-09-07 12:24:13.099172500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getsockopt,getsockopt)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/getuid.S dietlibc-0.30-execstack/alpha/getuid.S
--- dietlibc-0.30/alpha/getuid.S	2001-01-09 18:57:38.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/getuid.S	2006-09-07 12:24:13.095172250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getxuid,getuid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/listen.S dietlibc-0.30-execstack/alpha/listen.S
--- dietlibc-0.30/alpha/listen.S	2001-01-09 18:57:38.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/listen.S	2006-09-07 12:24:13.095172250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(listen,listen)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/__longjmp.S dietlibc-0.30-execstack/alpha/__longjmp.S
--- dietlibc-0.30/alpha/__longjmp.S	2002-09-16 13:17:01.000000000 +0200
+++ dietlibc-0.30-execstack/alpha/__longjmp.S	2006-09-07 12:24:13.099172500 +0200
@@ -31,3 +31,7 @@ __longjmp:
 	cmoveq	 $0, 0x1, $0
 
 	ret	$31, ($26), 1
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/lseek64.S dietlibc-0.30-execstack/alpha/lseek64.S
--- dietlibc-0.30/alpha/lseek64.S	2001-11-12 15:47:01.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/lseek64.S	2006-09-07 12:24:13.091172000 +0200
@@ -3,3 +3,7 @@
 .global lseek64
 lseek64:
 	br	lseek
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/msgctl.S dietlibc-0.30-execstack/alpha/msgctl.S
--- dietlibc-0.30/alpha/msgctl.S	2001-05-10 13:33:07.000000000 +0200
+++ dietlibc-0.30-execstack/alpha/msgctl.S	2006-09-07 12:24:13.099172500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(msgctl,msgctl)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/msgget.S dietlibc-0.30-execstack/alpha/msgget.S
--- dietlibc-0.30/alpha/msgget.S	2001-05-10 13:33:07.000000000 +0200
+++ dietlibc-0.30-execstack/alpha/msgget.S	2006-09-07 12:24:13.095172250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(msgget,msgget)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/msgrcv.S dietlibc-0.30-execstack/alpha/msgrcv.S
--- dietlibc-0.30/alpha/msgrcv.S	2001-05-10 13:33:07.000000000 +0200
+++ dietlibc-0.30-execstack/alpha/msgrcv.S	2006-09-07 12:24:13.095172250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(msgrcv,msgrcv)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/msgsnd.S dietlibc-0.30-execstack/alpha/msgsnd.S
--- dietlibc-0.30/alpha/msgsnd.S	2001-05-10 13:33:07.000000000 +0200
+++ dietlibc-0.30-execstack/alpha/msgsnd.S	2006-09-07 12:24:13.099172500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(msgsnd,msgsnd)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/n_sigprocmask.S dietlibc-0.30-execstack/alpha/n_sigprocmask.S
--- dietlibc-0.30/alpha/n_sigprocmask.S	2001-07-23 21:36:33.000000000 +0200
+++ dietlibc-0.30-execstack/alpha/n_sigprocmask.S	2006-09-07 12:24:13.099172500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(osf_sigprocmask,__old_sigprocmask,__n_sigprocmask)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/pipe.S dietlibc-0.30-execstack/alpha/pipe.S
--- dietlibc-0.30/alpha/pipe.S	2001-01-09 18:57:38.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/pipe.S	2006-09-07 12:24:13.095172250 +0200
@@ -15,3 +15,7 @@ pipe:
 .Lerror:
         br      error_unified_syscall
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/recvfrom.S dietlibc-0.30-execstack/alpha/recvfrom.S
--- dietlibc-0.30/alpha/recvfrom.S	2001-01-30 15:46:52.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/recvfrom.S	2006-09-07 12:24:13.095172250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(recvfrom,recvfrom,__libc_recvfrom)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/recvmsg.S dietlibc-0.30-execstack/alpha/recvmsg.S
--- dietlibc-0.30/alpha/recvmsg.S	2001-05-06 02:07:29.000000000 +0200
+++ dietlibc-0.30-execstack/alpha/recvmsg.S	2006-09-07 12:24:13.099172500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(recvmsg,recvmsg)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/recv.S dietlibc-0.30-execstack/alpha/recv.S
--- dietlibc-0.30/alpha/recv.S	2001-01-30 15:46:52.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/recv.S	2006-09-07 12:24:13.091172000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(recv,recv,__libc_recv)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/reml.S dietlibc-0.30-execstack/alpha/reml.S
--- dietlibc-0.30/alpha/reml.S	2001-03-08 15:58:41.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/reml.S	2006-09-07 12:24:13.095172250 +0200
@@ -99,3 +99,7 @@ __reml :
 	ret	$31 , ($23  ), 1
 
 	.end	__reml
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/remq.S dietlibc-0.30-execstack/alpha/remq.S
--- dietlibc-0.30/alpha/remq.S	2001-03-08 15:58:41.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/remq.S	2006-09-07 12:24:13.091172000 +0200
@@ -95,3 +95,7 @@ __remq :
 	ret	$31 , ($23  ), 1
 
 	.end	__remq
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/semctl.S dietlibc-0.30-execstack/alpha/semctl.S
--- dietlibc-0.30/alpha/semctl.S	2001-03-04 20:36:45.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/semctl.S	2006-09-07 12:24:13.099172500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(semctl,semctl)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/semget.S dietlibc-0.30-execstack/alpha/semget.S
--- dietlibc-0.30/alpha/semget.S	2001-03-04 20:36:45.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/semget.S	2006-09-07 12:24:13.091172000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(semget,semget)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/semop.S dietlibc-0.30-execstack/alpha/semop.S
--- dietlibc-0.30/alpha/semop.S	2001-03-04 20:36:45.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/semop.S	2006-09-07 12:24:13.095172250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(semop,semop)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/sendmsg.S dietlibc-0.30-execstack/alpha/sendmsg.S
--- dietlibc-0.30/alpha/sendmsg.S	2001-05-06 02:07:29.000000000 +0200
+++ dietlibc-0.30-execstack/alpha/sendmsg.S	2006-09-07 12:24:13.091172000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(sendmsg,sendmsg)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/send.S dietlibc-0.30-execstack/alpha/send.S
--- dietlibc-0.30/alpha/send.S	2001-01-30 15:46:52.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/send.S	2006-09-07 12:24:13.099172500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(send,send,__libc_send)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/sendto.S dietlibc-0.30-execstack/alpha/sendto.S
--- dietlibc-0.30/alpha/sendto.S	2001-01-30 15:46:52.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/sendto.S	2006-09-07 12:24:13.091172000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(sendto,sendto,__libc_sendto)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/setjmp.S dietlibc-0.30-execstack/alpha/setjmp.S
--- dietlibc-0.30/alpha/setjmp.S	2002-09-16 13:17:01.000000000 +0200
+++ dietlibc-0.30-execstack/alpha/setjmp.S	2006-09-07 12:24:13.099172500 +0200
@@ -33,3 +33,7 @@ __sigsetjmp:
 
 	br	$31, __sigjmp_save	/* jmp  __sigjmp_save */
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/setsockopt.S dietlibc-0.30-execstack/alpha/setsockopt.S
--- dietlibc-0.30/alpha/setsockopt.S	2001-01-09 18:57:38.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/setsockopt.S	2006-09-07 12:24:13.095172250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(setsockopt,setsockopt)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/shmat.S dietlibc-0.30-execstack/alpha/shmat.S
--- dietlibc-0.30/alpha/shmat.S	2001-03-04 20:36:45.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/shmat.S	2006-09-07 12:24:13.091172000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(shmat,shmat)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/shmctl.S dietlibc-0.30-execstack/alpha/shmctl.S
--- dietlibc-0.30/alpha/shmctl.S	2001-03-04 20:36:45.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/shmctl.S	2006-09-07 12:24:13.091172000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(shmctl,shmctl)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/shmdt.S dietlibc-0.30-execstack/alpha/shmdt.S
--- dietlibc-0.30/alpha/shmdt.S	2001-03-04 20:36:45.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/shmdt.S	2006-09-07 12:24:13.091172000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(shmdt,shmdt)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/shmget.S dietlibc-0.30-execstack/alpha/shmget.S
--- dietlibc-0.30/alpha/shmget.S	2001-03-04 20:36:45.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/shmget.S	2006-09-07 12:24:13.095172250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(shmget,shmget)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/shutdown.S dietlibc-0.30-execstack/alpha/shutdown.S
--- dietlibc-0.30/alpha/shutdown.S	2001-03-12 04:16:26.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/shutdown.S	2006-09-07 12:24:13.095172250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(shutdown,shutdown)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/socketcall.S dietlibc-0.30-execstack/alpha/socketcall.S
--- dietlibc-0.30/alpha/socketcall.S	2001-01-09 18:57:38.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/socketcall.S	2006-09-07 12:24:13.091172000 +0200
@@ -3,3 +3,7 @@
 /*
  * Doesn't exist on alpha ( accept, bind, ... are SYSCALLS !?! )
  */
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/socketpair.S dietlibc-0.30-execstack/alpha/socketpair.S
--- dietlibc-0.30/alpha/socketpair.S	2001-05-11 17:52:09.000000000 +0200
+++ dietlibc-0.30-execstack/alpha/socketpair.S	2006-09-07 12:24:13.095172250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(socketpair,socketpair)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/socket.S dietlibc-0.30-execstack/alpha/socket.S
--- dietlibc-0.30/alpha/socket.S	2001-01-09 18:57:38.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/socket.S	2006-09-07 12:24:13.095172250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(socket,socket)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/start.S dietlibc-0.30-execstack/alpha/start.S
--- dietlibc-0.30/alpha/start.S	2006-04-04 07:35:14.000000000 +0200
+++ dietlibc-0.30-execstack/alpha/start.S	2006-09-07 12:24:13.091172000 +0200
@@ -33,3 +33,7 @@ _start:
 #endif
 	mov	 $0, $16
 	jsr	$26, exit	/* YES, CALL! for threads and atexit ! (+4 byte) */
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/__testandset.S dietlibc-0.30-execstack/alpha/__testandset.S
--- dietlibc-0.30/alpha/__testandset.S	2003-02-19 21:16:01.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/__testandset.S	2006-09-07 12:24:13.091172000 +0200
@@ -9,3 +9,7 @@ __testandset:
 	stq_c	$0, 0($16)		/* write lock is locked :) */
 	beq	$0, 1b			/* oops someone changed MY lock */
 1:	ret	$31, ($26), 0x01	/* return */
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/time.S dietlibc-0.30-execstack/alpha/time.S
--- dietlibc-0.30/alpha/time.S	2001-04-09 17:39:23.000000000 +0200
+++ dietlibc-0.30-execstack/alpha/time.S	2006-09-07 12:24:13.099172500 +0200
@@ -0,0 +1,4 @@
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/unified.S dietlibc-0.30-execstack/alpha/unified.S
--- dietlibc-0.30/alpha/unified.S	2002-01-21 16:55:18.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/unified.S	2006-09-07 12:24:13.091172000 +0200
@@ -37,3 +37,7 @@ error_unified_syscall:
 	stl	$0,  0($1)
 #endif
 	ret	$31, ($26), 0x01  /* return */
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/utime.S dietlibc-0.30-execstack/alpha/utime.S
--- dietlibc-0.30/alpha/utime.S	2001-01-09 18:57:38.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/utime.S	2006-09-07 12:24:13.091172000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(utimes,utime)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/alpha/waitpid.S dietlibc-0.30-execstack/alpha/waitpid.S
--- dietlibc-0.30/alpha/waitpid.S	2001-01-30 15:46:52.000000000 +0100
+++ dietlibc-0.30-execstack/alpha/waitpid.S	2006-09-07 12:24:13.091172000 +0200
@@ -8,3 +8,7 @@ waitpid:
 __libc_waitpid:
 	clr	$19
 	br	wait4
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/arm/clone.S dietlibc-0.30-execstack/arm/clone.S
--- dietlibc-0.30/arm/clone.S	2002-02-28 17:27:02.000000000 +0100
+++ dietlibc-0.30-execstack/arm/clone.S	2006-09-07 12:24:13.115173500 +0200
@@ -32,3 +32,7 @@ __clone:
 
 1:	b	_exit			@ branch to _exit (PIC safe)
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/arm/dyn_syscalls.S dietlibc-0.30-execstack/arm/dyn_syscalls.S
--- dietlibc-0.30/arm/dyn_syscalls.S	2005-10-08 23:22:09.000000000 +0200
+++ dietlibc-0.30-execstack/arm/dyn_syscalls.S	2006-09-07 12:24:13.115173500 +0200
@@ -289,3 +289,7 @@ __exit:
 
 #include "__longjmp.S"
 #include "setjmp.S"
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/arm/__guard.S dietlibc-0.30-execstack/arm/__guard.S
--- dietlibc-0.30/arm/__guard.S	2006-06-21 21:55:25.000000000 +0200
+++ dietlibc-0.30-execstack/arm/__guard.S	2006-09-07 12:24:13.115173500 +0200
@@ -7,3 +7,7 @@ __guard:
 __stack_chk_guard:
 .long 0xaff00
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/arm/__longjmp.S dietlibc-0.30-execstack/arm/__longjmp.S
--- dietlibc-0.30/arm/__longjmp.S	2001-07-02 18:06:48.000000000 +0200
+++ dietlibc-0.30-execstack/arm/__longjmp.S	2006-09-07 12:24:13.115173500 +0200
@@ -9,3 +9,7 @@ __longjmp:
 	lfm	f4, 4, [ip], #48
 #endif
 	ldmia   ip, {r4-r11, sp, pc}
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/arm/mcount.S dietlibc-0.30-execstack/arm/mcount.S
--- dietlibc-0.30/arm/mcount.S	2002-05-09 05:50:17.000000000 +0200
+++ dietlibc-0.30-execstack/arm/mcount.S	2006-09-07 12:24:13.115173500 +0200
@@ -44,3 +44,7 @@ mcount:
 
     ldmdb   fp,  { r0 - r3, fp, sp, pc }        @ restore context from stack frame and return.
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/arm/md5asm.S dietlibc-0.30-execstack/arm/md5asm.S
--- dietlibc-0.30/arm/md5asm.S	2002-03-08 11:56:15.000000000 +0100
+++ dietlibc-0.30-execstack/arm/md5asm.S	2006-09-07 12:24:13.115173500 +0200
@@ -394,3 +394,7 @@ __UnalignedMD5Transform:
 #endif   /* __BYTE_ORDER == __LITTLE_ENDIAN */
 
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/arm/mmap.S dietlibc-0.30-execstack/arm/mmap.S
--- dietlibc-0.30/arm/mmap.S	2002-02-18 20:57:39.000000000 +0100
+++ dietlibc-0.30-execstack/arm/mmap.S	2006-09-07 12:24:13.115173500 +0200
@@ -22,3 +22,7 @@ mmap:
 	add	sp, sp, #16
 	b	__unified_syscall
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/arm/select.S dietlibc-0.30-execstack/arm/select.S
--- dietlibc-0.30/arm/select.S	2001-10-15 23:07:45.000000000 +0200
+++ dietlibc-0.30-execstack/arm/select.S	2006-09-07 12:24:13.115173500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(_newselect,select)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/arm/setjmp.S dietlibc-0.30-execstack/arm/setjmp.S
--- dietlibc-0.30/arm/setjmp.S	2001-07-02 18:06:48.000000000 +0200
+++ dietlibc-0.30-execstack/arm/setjmp.S	2006-09-07 12:24:13.115173500 +0200
@@ -15,3 +15,7 @@ sigsetjmp:
 	sub	r0, r0, #30
 	b	__sigjmp_save
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/arm/start.S dietlibc-0.30-execstack/arm/start.S
--- dietlibc-0.30/arm/start.S	2006-04-04 07:35:14.000000000 +0200
+++ dietlibc-0.30-execstack/arm/start.S	2006-09-07 12:24:13.115173500 +0200
@@ -73,3 +73,7 @@ _exit:
 
 
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/arm/strcpy.S dietlibc-0.30-execstack/arm/strcpy.S
--- dietlibc-0.30/arm/strcpy.S	2005-07-25 11:28:11.000000000 +0200
+++ dietlibc-0.30-execstack/arm/strcpy.S	2006-09-07 12:24:13.115173500 +0200
@@ -64,3 +64,7 @@ strcpy:
 	mov	pc, lr
 .Lfe1:
 	.size	 strcpy,.Lfe1-strcpy
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/arm/strlen.S dietlibc-0.30-execstack/arm/strlen.S
--- dietlibc-0.30/arm/strlen.S	2005-07-25 11:28:11.000000000 +0200
+++ dietlibc-0.30-execstack/arm/strlen.S	2006-09-07 12:24:13.115173500 +0200
@@ -70,3 +70,7 @@ strlen:
 
 .Lstrlen:
 	.size	strlen,.Lstrlen-strlen
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/arm/__testandset.S dietlibc-0.30-execstack/arm/__testandset.S
--- dietlibc-0.30/arm/__testandset.S	2001-03-09 20:30:52.000000000 +0100
+++ dietlibc-0.30-execstack/arm/__testandset.S	2006-09-07 12:24:13.115173500 +0200
@@ -5,3 +5,7 @@ __testandset:
 	mov	r1, #1
 	swp	r0, r1, [r2]
 	mov	pc, lr
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/arm/unified.S dietlibc-0.30-execstack/arm/unified.S
--- dietlibc-0.30/arm/unified.S	2002-02-28 17:13:20.000000000 +0100
+++ dietlibc-0.30-execstack/arm/unified.S	2006-09-07 12:24:13.115173500 +0200
@@ -32,3 +32,7 @@ __unified_syscall:
 #ifndef WANT_THREAD_SAFE
 .L0:	.long 	errno
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/arm/waitpid.S dietlibc-0.30-execstack/arm/waitpid.S
--- dietlibc-0.30/arm/waitpid.S	2004-11-30 17:26:20.000000000 +0100
+++ dietlibc-0.30-execstack/arm/waitpid.S	2006-09-07 12:24:13.115173500 +0200
@@ -9,3 +9,7 @@ __libc_waitpid:
 	mov	r3, #0
 	b	wait4
 	.size	waitpid, .-waitpid
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/dynlinker/ldso_start.S dietlibc-0.30-execstack/dynlinker/ldso_start.S
--- dietlibc-0.30/dynlinker/ldso_start.S	2001-07-09 21:49:52.000000000 +0200
+++ dietlibc-0.30-execstack/dynlinker/ldso_start.S	2006-09-07 12:24:13.099172500 +0200
@@ -73,3 +73,7 @@ __environ:
 .global fini_entry
 fini_entry:
 	.long 0
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/accept.S dietlibc-0.30-execstack/i386/accept.S
--- dietlibc-0.30/i386/accept.S	2002-08-27 15:55:31.000000000 +0200
+++ dietlibc-0.30-execstack/i386/accept.S	2006-09-07 12:24:13.087171750 +0200
@@ -2,3 +2,7 @@
 #include <syscalls.h>
 
 __socketcall(accept,ACCEPT)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/acosh.S dietlibc-0.30-execstack/i386/acosh.S
--- dietlibc-0.30/i386/acosh.S	2001-08-01 00:13:35.000000000 +0200
+++ dietlibc-0.30-execstack/i386/acosh.S	2006-09-07 12:24:13.083171500 +0200
@@ -16,3 +16,7 @@ acosh:
 
 .Lende:
         .size    acosh,.Lende-acosh
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/acos.S dietlibc-0.30-execstack/i386/acos.S
--- dietlibc-0.30/i386/acos.S	2002-10-04 22:39:42.000000000 +0200
+++ dietlibc-0.30-execstack/i386/acos.S	2006-09-07 12:24:13.079171250 +0200
@@ -28,3 +28,7 @@ __acos:
 .size    acos,.ende-acos
 .size    acosf,.ende-acosf
 .size    acosl,.ende-acosl
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/asinh.S dietlibc-0.30-execstack/i386/asinh.S
--- dietlibc-0.30/i386/asinh.S	2001-08-01 00:13:35.000000000 +0200
+++ dietlibc-0.30-execstack/i386/asinh.S	2006-09-07 12:24:13.091172000 +0200
@@ -16,3 +16,7 @@ asinh:
 
 .Lende:
         .size    asinh,.Lende-asinh
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/asin.S dietlibc-0.30-execstack/i386/asin.S
--- dietlibc-0.30/i386/asin.S	2002-10-04 22:39:42.000000000 +0200
+++ dietlibc-0.30-execstack/i386/asin.S	2006-09-07 12:24:13.087171750 +0200
@@ -27,3 +27,7 @@ __asin:
 .size    asin,.ende-asin
 .size    asinf,.ende-asinf
 .size    asinl,.ende-asinl
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/atan2.S dietlibc-0.30-execstack/i386/atan2.S
--- dietlibc-0.30/i386/atan2.S	2003-03-30 21:19:52.000000000 +0200
+++ dietlibc-0.30-execstack/i386/atan2.S	2006-09-07 12:24:13.083171500 +0200
@@ -23,3 +23,7 @@ atan2:
 .size    atan2,.ende-atan2
 .size    atan2f,.ende-atan2f
 .size    atan2l,.ende-atan2l
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/atanh.S dietlibc-0.30-execstack/i386/atanh.S
--- dietlibc-0.30/i386/atanh.S	2001-08-01 00:13:35.000000000 +0200
+++ dietlibc-0.30-execstack/i386/atanh.S	2006-09-07 12:24:13.083171500 +0200
@@ -17,3 +17,7 @@ atanh:
 
 .Lende:
         .size    atanh,.Lende-atanh
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/atan.S dietlibc-0.30-execstack/i386/atan.S
--- dietlibc-0.30/i386/atan.S	2002-10-04 22:39:42.000000000 +0200
+++ dietlibc-0.30-execstack/i386/atan.S	2006-09-07 12:24:13.079171250 +0200
@@ -25,3 +25,7 @@ atanl:
 .size    atan,.ende-atan
 .size    atanf,.ende-atanf
 .size    atanl,.ende-atanl
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/atoll.S dietlibc-0.30-execstack/i386/atoll.S
--- dietlibc-0.30/i386/atoll.S	2001-07-26 17:20:36.000000000 +0200
+++ dietlibc-0.30-execstack/i386/atoll.S	2006-09-07 12:24:13.083171500 +0200
@@ -62,3 +62,7 @@ atoll:
 
 .size    atoll,.Lende-atoll
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/atol.S dietlibc-0.30-execstack/i386/atol.S
--- dietlibc-0.30/i386/atol.S	2003-06-23 16:39:13.000000000 +0200
+++ dietlibc-0.30-execstack/i386/atol.S	2006-09-07 12:24:13.091172000 +0200
@@ -56,3 +56,7 @@ atol:
 	ret
 .size	atoi, . - atoi
 .size	atol, . - atol
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/bind.S dietlibc-0.30-execstack/i386/bind.S
--- dietlibc-0.30/i386/bind.S	2002-08-27 15:55:31.000000000 +0200
+++ dietlibc-0.30-execstack/i386/bind.S	2006-09-07 12:24:13.087171750 +0200
@@ -2,3 +2,7 @@
 #include <syscalls.h>
 
 __socketcall(bind,BIND)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/cbrt.S dietlibc-0.30-execstack/i386/cbrt.S
--- dietlibc-0.30/i386/cbrt.S	2001-08-06 15:10:58.000000000 +0200
+++ dietlibc-0.30-execstack/i386/cbrt.S	2006-09-07 12:24:13.083171500 +0200
@@ -44,3 +44,7 @@ lop:
 zero:
         ret
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/ceil.S dietlibc-0.30-execstack/i386/ceil.S
--- dietlibc-0.30/i386/ceil.S	2004-12-17 20:22:11.000000000 +0100
+++ dietlibc-0.30-execstack/i386/ceil.S	2006-09-07 12:24:13.087171750 +0200
@@ -53,3 +53,7 @@ __flcetr:
 .size    ceill,.Lende-ceill
 .size    ceilf,.Lende-ceilf
 .size    __flcetr,.Lende-__flcetr
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/clone.S dietlibc-0.30-execstack/i386/clone.S
--- dietlibc-0.30/i386/clone.S	2002-08-08 18:59:07.000000000 +0200
+++ dietlibc-0.30-execstack/i386/clone.S	2006-09-07 12:24:13.083171500 +0200
@@ -58,3 +58,7 @@ __clone:
 	orl	$-1, %eax
 .Lreturn:
 	ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/connect.S dietlibc-0.30-execstack/i386/connect.S
--- dietlibc-0.30/i386/connect.S	2002-08-27 15:55:31.000000000 +0200
+++ dietlibc-0.30-execstack/i386/connect.S	2006-09-07 12:24:13.083171500 +0200
@@ -2,3 +2,7 @@
 #include <syscalls.h>
 
 __socketcall(connect,CONNECT)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/copysign.S dietlibc-0.30-execstack/i386/copysign.S
--- dietlibc-0.30/i386/copysign.S	2003-06-21 00:33:07.000000000 +0200
+++ dietlibc-0.30-execstack/i386/copysign.S	2006-09-07 12:24:13.087171750 +0200
@@ -16,3 +16,7 @@ copysign:
 
 .ende:
 .size    copysign,.ende-copysign
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/cosh.S dietlibc-0.30-execstack/i386/cosh.S
--- dietlibc-0.30/i386/cosh.S	2004-12-17 20:22:11.000000000 +0100
+++ dietlibc-0.30-execstack/i386/cosh.S	2006-09-07 12:24:13.087171750 +0200
@@ -41,3 +41,7 @@ coshl:
 .size    cosh,.Lende-cosh
 .size    coshf,.Lende-coshf
 .size    coshl,.Lende-coshl
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/cos.S dietlibc-0.30-execstack/i386/cos.S
--- dietlibc-0.30/i386/cos.S	2003-01-02 15:04:42.000000000 +0100
+++ dietlibc-0.30-execstack/i386/cos.S	2006-09-07 12:24:13.083171500 +0200
@@ -33,3 +33,7 @@ cosl:
 .size    cos,.Lende-cos
 .size    cosl,.Lende-cosl
 .size    cosf,.Lende-cosf
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/exp10.S dietlibc-0.30-execstack/i386/exp10.S
--- dietlibc-0.30/i386/exp10.S	2001-07-30 15:52:55.000000000 +0200
+++ dietlibc-0.30-execstack/i386/exp10.S	2006-09-07 12:24:13.079171250 +0200
@@ -25,3 +25,7 @@ exp10:                          # note: 
 
 .size    exp10,.ende-exp10
 .size    pow10,.ende-pow10
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/exp2.S dietlibc-0.30-execstack/i386/exp2.S
--- dietlibc-0.30/i386/exp2.S	2001-07-18 02:20:09.000000000 +0200
+++ dietlibc-0.30-execstack/i386/exp2.S	2006-09-07 12:24:13.087171750 +0200
@@ -16,3 +16,7 @@ exp2:                           # note: 
 
 .ende:
 .size    exp2,.ende-exp2
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/expm1.S dietlibc-0.30-execstack/i386/expm1.S
--- dietlibc-0.30/i386/expm1.S	2001-07-19 18:07:10.000000000 +0200
+++ dietlibc-0.30-execstack/i386/expm1.S	2006-09-07 12:24:13.087171750 +0200
@@ -21,3 +21,7 @@ expm1:                          # note: 
 
 .ende:
 .size    expm1,.ende-expm1
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/exp.S dietlibc-0.30-execstack/i386/exp.S
--- dietlibc-0.30/i386/exp.S	2004-12-17 20:22:11.000000000 +0100
+++ dietlibc-0.30-execstack/i386/exp.S	2006-09-07 12:24:13.087171750 +0200
@@ -44,3 +44,7 @@ __finexp:
 .size    expl,.Lende-expl
 .size    expf,.Lende-expf
 .size    __finexp,.Lende-__finexp
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/fabs.S dietlibc-0.30-execstack/i386/fabs.S
--- dietlibc-0.30/i386/fabs.S	2003-03-30 21:19:53.000000000 +0200
+++ dietlibc-0.30-execstack/i386/fabs.S	2006-09-07 12:24:13.079171250 +0200
@@ -21,3 +21,7 @@ fabsl:
 .size    fabs,.ende-fabs
 .size    fabsl,.ende-fabsl
 .size    fabsf,.ende-fabsf
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/ffsll.S dietlibc-0.30-execstack/i386/ffsll.S
--- dietlibc-0.30/i386/ffsll.S	2003-08-20 02:44:40.000000000 +0200
+++ dietlibc-0.30-execstack/i386/ffsll.S	2006-09-07 12:24:13.091172000 +0200
@@ -19,3 +19,7 @@ ffsll:
 	ret
 .Lende:
 .size ffsll,.Lende-ffsll
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/ffsl.S dietlibc-0.30-execstack/i386/ffsl.S
--- dietlibc-0.30/i386/ffsl.S	2003-08-20 02:44:40.000000000 +0200
+++ dietlibc-0.30-execstack/i386/ffsl.S	2006-09-07 12:24:13.079171250 +0200
@@ -0,0 +1,4 @@
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/ffs.S dietlibc-0.30-execstack/i386/ffs.S
--- dietlibc-0.30/i386/ffs.S	2003-08-20 02:44:40.000000000 +0200
+++ dietlibc-0.30-execstack/i386/ffs.S	2006-09-07 12:24:13.087171750 +0200
@@ -15,3 +15,7 @@ ffsl:
 .Lende:
 .size ffsl,.Lende-ffsl
 .size ffs,.Lende-ffs
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/floor.S dietlibc-0.30-execstack/i386/floor.S
--- dietlibc-0.30/i386/floor.S	2004-12-17 20:22:11.000000000 +0100
+++ dietlibc-0.30-execstack/i386/floor.S	2006-09-07 12:24:13.087171750 +0200
@@ -44,3 +44,7 @@ floorl:
 .size    floor,.Lende-floor
 .size    floorl,.Lende-floorl
 .size    floorf,.Lende-floorf
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/fmod.S dietlibc-0.30-execstack/i386/fmod.S
--- dietlibc-0.30/i386/fmod.S	2003-09-22 19:48:56.000000000 +0200
+++ dietlibc-0.30-execstack/i386/fmod.S	2006-09-07 12:24:13.083171500 +0200
@@ -36,3 +36,7 @@ fmodl:
 .size    fmod,.ende-fmod
 .size    fmodl,.ende-fmodl
 .size    fmodf,.ende-fmodf
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/getenv.S dietlibc-0.30-execstack/i386/getenv.S
--- dietlibc-0.30/i386/getenv.S	2005-09-21 09:33:08.000000000 +0200
+++ dietlibc-0.30-execstack/i386/getenv.S	2006-09-07 12:24:13.083171500 +0200
@@ -46,3 +46,7 @@ getenv:
 	popl %esi
 	ret
 .size	getenv, . - getenv
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/getpeername.S dietlibc-0.30-execstack/i386/getpeername.S
--- dietlibc-0.30/i386/getpeername.S	2002-08-27 15:55:31.000000000 +0200
+++ dietlibc-0.30-execstack/i386/getpeername.S	2006-09-07 12:24:13.083171500 +0200
@@ -2,3 +2,7 @@
 #include <syscalls.h>
 
 __socketcall(getpeername,GETPEERNAME)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/getsockname.S dietlibc-0.30-execstack/i386/getsockname.S
--- dietlibc-0.30/i386/getsockname.S	2002-08-27 15:55:31.000000000 +0200
+++ dietlibc-0.30-execstack/i386/getsockname.S	2006-09-07 12:24:13.079171250 +0200
@@ -2,3 +2,7 @@
 #include <syscalls.h>
 
 __socketcall(getsockname,GETSOCKNAME)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/getsockopt.S dietlibc-0.30-execstack/i386/getsockopt.S
--- dietlibc-0.30/i386/getsockopt.S	2002-08-27 15:55:31.000000000 +0200
+++ dietlibc-0.30-execstack/i386/getsockopt.S	2006-09-07 12:24:13.087171750 +0200
@@ -2,3 +2,7 @@
 #include <syscalls.h>
 
 __socketcall(getsockopt,GETSOCKOPT)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/__half.S dietlibc-0.30-execstack/i386/__half.S
--- dietlibc-0.30/i386/__half.S	2001-07-27 16:39:18.000000000 +0200
+++ dietlibc-0.30-execstack/i386/__half.S	2006-09-07 12:24:13.083171500 +0200
@@ -8,3 +8,7 @@
 .type   __half,@object
 .size   __half,4
 __half: .long 0x3f000000
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/htonl.S dietlibc-0.30-execstack/i386/htonl.S
--- dietlibc-0.30/i386/htonl.S	2001-08-01 00:13:35.000000000 +0200
+++ dietlibc-0.30-execstack/i386/htonl.S	2006-09-07 12:24:13.087171750 +0200
@@ -11,3 +11,7 @@ ntohl:
         rorl    $16,%eax
         xchgb   %al,%ah
         ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/htons.S dietlibc-0.30-execstack/i386/htons.S
--- dietlibc-0.30/i386/htons.S	2001-08-01 00:13:35.000000000 +0200
+++ dietlibc-0.30-execstack/i386/htons.S	2006-09-07 12:24:13.083171500 +0200
@@ -9,3 +9,7 @@ ntohs:
         movzwl  4(%esp),%eax
         xchgb   %al,%ah
         ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/hypot.S dietlibc-0.30-execstack/i386/hypot.S
--- dietlibc-0.30/i386/hypot.S	2003-03-30 21:19:53.000000000 +0200
+++ dietlibc-0.30-execstack/i386/hypot.S	2006-09-07 12:24:13.083171500 +0200
@@ -28,3 +28,7 @@ __hypot:
 .size    hypot,.ende-hypot
 .size    hypotf,.ende-hypotf
 .size    hypotl,.ende-hypotl
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/ilogb.S dietlibc-0.30-execstack/i386/ilogb.S
--- dietlibc-0.30/i386/ilogb.S	2001-07-30 15:53:14.000000000 +0200
+++ dietlibc-0.30-execstack/i386/ilogb.S	2006-09-07 12:24:13.083171500 +0200
@@ -21,3 +21,7 @@ ilogb:
 	stc
 	rcrl	%eax
 	ret	
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/ipow.S dietlibc-0.30-execstack/i386/ipow.S
--- dietlibc-0.30/i386/ipow.S	2001-07-30 15:45:17.000000000 +0200
+++ dietlibc-0.30-execstack/i386/ipow.S	2006-09-07 12:24:13.083171500 +0200
@@ -25,3 +25,7 @@ ipow:   fld1
 .Lnomul:jnz     .Lnext
         fcomp
         ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/isleap.S dietlibc-0.30-execstack/i386/isleap.S
--- dietlibc-0.30/i386/isleap.S	2001-07-30 15:34:41.000000000 +0200
+++ dietlibc-0.30-execstack/i386/isleap.S	2006-09-07 12:24:13.083171500 +0200
@@ -26,3 +26,7 @@ __isleap:
 .Lretzero:xorl    %eax,%eax
         ret
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/ldexp.S dietlibc-0.30-execstack/i386/ldexp.S
--- dietlibc-0.30/i386/ldexp.S	2002-12-15 20:49:56.000000000 +0100
+++ dietlibc-0.30-execstack/i386/ldexp.S	2006-09-07 12:24:13.083171500 +0200
@@ -26,3 +26,7 @@ ldexpl:
 .size    ldexpl,.ende-ldexpl
 .size    ldexp,ldexpl-ldexp
 .size    ldexpf,ldexp-ldexpf
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/libm2.S dietlibc-0.30-execstack/i386/libm2.S
--- dietlibc-0.30/i386/libm2.S	2004-12-17 20:22:11.000000000 +0100
+++ dietlibc-0.30-execstack/i386/libm2.S	2006-09-07 12:24:13.087171750 +0200
@@ -459,3 +459,7 @@ logbl:
 ilogbl:	fldt 4(%esp)
 	jmp __ilogb
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/listen.S dietlibc-0.30-execstack/i386/listen.S
--- dietlibc-0.30/i386/listen.S	2002-08-27 15:55:31.000000000 +0200
+++ dietlibc-0.30-execstack/i386/listen.S	2006-09-07 12:24:13.083171500 +0200
@@ -2,3 +2,7 @@
 #include <syscalls.h>
 
 __socketcall(listen,LISTEN)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/log10.S dietlibc-0.30-execstack/i386/log10.S
--- dietlibc-0.30/i386/log10.S	2003-03-30 21:19:53.000000000 +0200
+++ dietlibc-0.30-execstack/i386/log10.S	2006-09-07 12:24:13.079171250 +0200
@@ -25,3 +25,7 @@ log10:
 .size    log10,.ende-log10
 .size    log10f,.ende-log10f
 .size    log10l,.ende-log10l
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/log1p.S dietlibc-0.30-execstack/i386/log1p.S
--- dietlibc-0.30/i386/log1p.S	2003-03-30 21:19:53.000000000 +0200
+++ dietlibc-0.30-execstack/i386/log1p.S	2006-09-07 12:24:13.087171750 +0200
@@ -38,3 +38,7 @@ __log1p:
 .size    log1pf,.ende-log1pf
 .size    log1pl,.ende-log1pl
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/log2.S dietlibc-0.30-execstack/i386/log2.S
--- dietlibc-0.30/i386/log2.S	2001-07-18 02:20:09.000000000 +0200
+++ dietlibc-0.30-execstack/i386/log2.S	2006-09-07 12:24:13.087171750 +0200
@@ -9,3 +9,7 @@ log2:
 
 .ende:
 .size    log2,.ende-log2
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/log.S dietlibc-0.30-execstack/i386/log.S
--- dietlibc-0.30/i386/log.S	2002-10-04 22:39:42.000000000 +0200
+++ dietlibc-0.30-execstack/i386/log.S	2006-09-07 12:24:13.083171500 +0200
@@ -24,3 +24,7 @@ log:
 .size    log,.Lende-log
 .size    logl,.Lende-logl
 .size    logf,.Lende-logf
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/__longjmp.S dietlibc-0.30-execstack/i386/__longjmp.S
--- dietlibc-0.30/i386/__longjmp.S	2001-07-02 18:06:48.000000000 +0200
+++ dietlibc-0.30-execstack/i386/__longjmp.S	2006-09-07 12:24:13.091172000 +0200
@@ -17,3 +17,7 @@ __longjmp:
 	/* Jump to saved PC.  */
 	jmp *%edx
 .size __longjmp,.-__longjmp;
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/ltostr.S dietlibc-0.30-execstack/i386/ltostr.S
--- dietlibc-0.30/i386/ltostr.S	2002-10-27 17:23:35.000000000 +0100
+++ dietlibc-0.30-execstack/i386/ltostr.S	2006-09-07 12:24:13.087171750 +0200
@@ -60,3 +60,7 @@ __ltostr:
 	popl %esi
 	ret
 .size __ltostr, . - __ltostr
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/mcount.S dietlibc-0.30-execstack/i386/mcount.S
--- dietlibc-0.30/i386/mcount.S	2002-09-14 00:33:01.000000000 +0200
+++ dietlibc-0.30-execstack/i386/mcount.S	2006-09-07 12:24:13.083171500 +0200
@@ -42,3 +42,7 @@ mcount:
 	ret
 
 .size mcount,.-mcount
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/md5asm.S dietlibc-0.30-execstack/i386/md5asm.S
--- dietlibc-0.30/i386/md5asm.S	2001-10-08 19:57:02.000000000 +0200
+++ dietlibc-0.30-execstack/i386/md5asm.S	2006-09-07 12:24:13.083171500 +0200
@@ -298,3 +298,7 @@ MD5Update:
 	ret
 
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/memccpy.S dietlibc-0.30-execstack/i386/memccpy.S
--- dietlibc-0.30/i386/memccpy.S	2003-10-15 17:32:09.000000000 +0200
+++ dietlibc-0.30-execstack/i386/memccpy.S	2006-09-07 12:24:13.083171500 +0200
@@ -39,3 +39,7 @@ memccpy:
 		ret
 .Lende:
 .size    memccpy,.Lende-memccpy
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/memchr.S dietlibc-0.30-execstack/i386/memchr.S
--- dietlibc-0.30/i386/memchr.S	2003-02-18 21:57:26.000000000 +0100
+++ dietlibc-0.30-execstack/i386/memchr.S	2006-09-07 12:24:13.079171250 +0200
@@ -22,3 +22,7 @@ memchr:
 
 	popl %edi
 	ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/memcmp.S dietlibc-0.30-execstack/i386/memcmp.S
--- dietlibc-0.30/i386/memcmp.S	2003-10-15 17:32:09.000000000 +0200
+++ dietlibc-0.30-execstack/i386/memcmp.S	2006-09-07 12:24:13.083171500 +0200
@@ -20,3 +20,7 @@ memcmp:
 	popl %esi
 	ret
 .size	memcmp,.-memcmp
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/memcpy.S dietlibc-0.30-execstack/i386/memcpy.S
--- dietlibc-0.30/i386/memcpy.S	2001-08-23 16:11:42.000000000 +0200
+++ dietlibc-0.30-execstack/i386/memcpy.S	2006-09-07 12:24:13.083171500 +0200
@@ -14,3 +14,7 @@ memcpy:
 	popl %edi
 	popl %esi
 	ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/memset.S dietlibc-0.30-execstack/i386/memset.S
--- dietlibc-0.30/i386/memset.S	2001-08-23 16:11:42.000000000 +0200
+++ dietlibc-0.30-execstack/i386/memset.S	2006-09-07 12:24:13.083171500 +0200
@@ -13,3 +13,7 @@ memset:
 	popl %eax
 	popl %edi
 	ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/mmap64.S dietlibc-0.30-execstack/i386/mmap64.S
--- dietlibc-0.30/i386/mmap64.S	2003-01-08 17:03:03.000000000 +0100
+++ dietlibc-0.30-execstack/i386/mmap64.S	2006-09-07 12:24:13.079171250 +0200
@@ -61,3 +61,7 @@ mmap64:
   jmp .Lerror
 .Lende2:
 .size mmap64,.Lende2-mmap64
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/mmap.S dietlibc-0.30-execstack/i386/mmap.S
--- dietlibc-0.30/i386/mmap.S	2002-11-27 11:50:13.000000000 +0100
+++ dietlibc-0.30-execstack/i386/mmap.S	2006-09-07 12:24:13.091172000 +0200
@@ -12,3 +12,7 @@ mmap:
 	ret
 .Lende3:
 .size mmap,.Lende3-mmap
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/poly.S dietlibc-0.30-execstack/i386/poly.S
--- dietlibc-0.30/i386/poly.S	2001-07-30 15:59:22.000000000 +0200
+++ dietlibc-0.30-execstack/i386/poly.S	2006-09-07 12:24:13.079171250 +0200
@@ -22,3 +22,7 @@ __poly:
 	jns 	.Lloop
 	fstp 	%st(1)
 	ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/pow.S dietlibc-0.30-execstack/i386/pow.S
--- dietlibc-0.30/i386/pow.S	2004-12-17 20:22:11.000000000 +0100
+++ dietlibc-0.30-execstack/i386/pow.S	2006-09-07 12:24:13.083171500 +0200
@@ -73,3 +73,7 @@ pow:
 .size    pow,.Lende-pow
 .size    powf,.Lende-powf
 .size    powl,.Lende-powl
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/recvfrom.S dietlibc-0.30-execstack/i386/recvfrom.S
--- dietlibc-0.30/i386/recvfrom.S	2002-08-27 15:55:31.000000000 +0200
+++ dietlibc-0.30-execstack/i386/recvfrom.S	2006-09-07 12:24:13.087171750 +0200
@@ -2,3 +2,7 @@
 #include <syscalls.h>
 
 __socketcall(recvfrom,RECVFROM)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/recvmsg.S dietlibc-0.30-execstack/i386/recvmsg.S
--- dietlibc-0.30/i386/recvmsg.S	2002-08-27 15:55:31.000000000 +0200
+++ dietlibc-0.30-execstack/i386/recvmsg.S	2006-09-07 12:24:13.087171750 +0200
@@ -2,3 +2,7 @@
 #include <syscalls.h>
 
 __socketcall(recvmsg,RECVMSG)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/recv.S dietlibc-0.30-execstack/i386/recv.S
--- dietlibc-0.30/i386/recv.S	2002-08-27 15:55:31.000000000 +0200
+++ dietlibc-0.30-execstack/i386/recv.S	2006-09-07 12:24:13.079171250 +0200
@@ -2,3 +2,7 @@
 #include <syscalls.h>
 
 __socketcall(recv,RECV)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/__restore_rt.S dietlibc-0.30-execstack/i386/__restore_rt.S
--- dietlibc-0.30/i386/__restore_rt.S	2005-09-21 09:33:08.000000000 +0200
+++ dietlibc-0.30-execstack/i386/__restore_rt.S	2006-09-07 12:24:13.087171750 +0200
@@ -20,3 +20,7 @@ __restore:
 	int $0x80
 	hlt	/* die if syscall returns */
 .size    __restore,.-__restore
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/rint.S dietlibc-0.30-execstack/i386/rint.S
--- dietlibc-0.30/i386/rint.S	2002-10-04 22:39:42.000000000 +0200
+++ dietlibc-0.30-execstack/i386/rint.S	2006-09-07 12:24:13.091172000 +0200
@@ -21,3 +21,7 @@ rintl:
 .size    rint,.Lende-rint
 .size    rintl,.Lende-rintl
 .size    rintf,.Lende-rintf
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/select.S dietlibc-0.30-execstack/i386/select.S
--- dietlibc-0.30/i386/select.S	2001-01-30 15:46:53.000000000 +0100
+++ dietlibc-0.30-execstack/i386/select.S	2006-09-07 12:24:13.083171500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(_newselect,select,__libc_select)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/sendmsg.S dietlibc-0.30-execstack/i386/sendmsg.S
--- dietlibc-0.30/i386/sendmsg.S	2002-08-27 15:55:31.000000000 +0200
+++ dietlibc-0.30-execstack/i386/sendmsg.S	2006-09-07 12:24:13.079171250 +0200
@@ -2,3 +2,7 @@
 #include <syscalls.h>
 
 __socketcall(sendmsg,SENDMSG)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/send.S dietlibc-0.30-execstack/i386/send.S
--- dietlibc-0.30/i386/send.S	2002-08-27 15:55:31.000000000 +0200
+++ dietlibc-0.30-execstack/i386/send.S	2006-09-07 12:24:13.087171750 +0200
@@ -2,3 +2,7 @@
 #include <syscalls.h>
 
 __socketcall(send,SEND)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/sendto.S dietlibc-0.30-execstack/i386/sendto.S
--- dietlibc-0.30/i386/sendto.S	2002-08-27 15:55:31.000000000 +0200
+++ dietlibc-0.30-execstack/i386/sendto.S	2006-09-07 12:24:13.079171250 +0200
@@ -2,3 +2,7 @@
 #include <syscalls.h>
 
 __socketcall(sendto,SENDTO)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/setjmp.S dietlibc-0.30-execstack/i386/setjmp.S
--- dietlibc-0.30/i386/setjmp.S	2005-09-21 09:33:08.000000000 +0200
+++ dietlibc-0.30-execstack/i386/setjmp.S	2006-09-07 12:24:13.091172000 +0200
@@ -45,3 +45,7 @@ __sigsetjmp_internal:
 	jmp __sigjmp_save
 #endif
 .size __sigsetjmp,.-__sigsetjmp;
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/setsockopt.S dietlibc-0.30-execstack/i386/setsockopt.S
--- dietlibc-0.30/i386/setsockopt.S	2002-08-27 15:55:31.000000000 +0200
+++ dietlibc-0.30-execstack/i386/setsockopt.S	2006-09-07 12:24:13.087171750 +0200
@@ -2,3 +2,7 @@
 #include <syscalls.h>
 
 __socketcall(setsockopt,SETSOCKOPT)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/shutdown.S dietlibc-0.30-execstack/i386/shutdown.S
--- dietlibc-0.30/i386/shutdown.S	2002-08-27 15:55:31.000000000 +0200
+++ dietlibc-0.30-execstack/i386/shutdown.S	2006-09-07 12:24:13.087171750 +0200
@@ -2,3 +2,7 @@
 #include <syscalls.h>
 
 __socketcall(shutdown,SHUTDOWN)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/sincos.S dietlibc-0.30-execstack/i386/sincos.S
--- dietlibc-0.30/i386/sincos.S	2004-12-17 20:22:11.000000000 +0100
+++ dietlibc-0.30-execstack/i386/sincos.S	2006-09-07 12:24:13.083171500 +0200
@@ -62,3 +62,7 @@ sincosl:
 .size    sincos,.ende-sincos
 .size    sincosf,.ende-sincosf
 .size    sincosl,.ende-sincosl
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/sinh.S dietlibc-0.30-execstack/i386/sinh.S
--- dietlibc-0.30/i386/sinh.S	2004-12-17 20:22:11.000000000 +0100
+++ dietlibc-0.30-execstack/i386/sinh.S	2006-09-07 12:24:13.087171750 +0200
@@ -41,3 +41,7 @@ sinhl:
 .size    sinh,.Lende-sinh
 .size    sinhf,.Lende-sinhf
 .size    sinhl,.Lende-sinhl
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/sin.S dietlibc-0.30-execstack/i386/sin.S
--- dietlibc-0.30/i386/sin.S	2003-01-02 15:04:42.000000000 +0100
+++ dietlibc-0.30-execstack/i386/sin.S	2006-09-07 12:24:13.083171500 +0200
@@ -32,3 +32,7 @@ sinl:
 .size    sin,.ende-sin
 .size    sinf,.ende-sinf
 .size    sinl,.ende-sinl
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/sleep.S dietlibc-0.30-execstack/i386/sleep.S
--- dietlibc-0.30/i386/sleep.S	2002-02-25 17:00:50.000000000 +0100
+++ dietlibc-0.30-execstack/i386/sleep.S	2006-09-07 12:24:13.087171750 +0200
@@ -23,3 +23,7 @@ sleep:
 	addl    $16,%esp
 	PIC_RESTORE		# non-PIC: empty line
 	ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/socketcall.S dietlibc-0.30-execstack/i386/socketcall.S
--- dietlibc-0.30/i386/socketcall.S	2002-09-14 00:33:01.000000000 +0200
+++ dietlibc-0.30-execstack/i386/socketcall.S	2006-09-07 12:24:13.083171500 +0200
@@ -15,3 +15,7 @@ socketcall:
 	retl
 .Lende:
 .size socketcall,.Lende-socketcall
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/socketpair.S dietlibc-0.30-execstack/i386/socketpair.S
--- dietlibc-0.30/i386/socketpair.S	2002-08-27 15:55:31.000000000 +0200
+++ dietlibc-0.30-execstack/i386/socketpair.S	2006-09-07 12:24:13.083171500 +0200
@@ -2,3 +2,7 @@
 #include <syscalls.h>
 
 __socketcall(socketpair,SOCKETPAIR)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/socket.S dietlibc-0.30-execstack/i386/socket.S
--- dietlibc-0.30/i386/socket.S	2002-08-27 15:55:31.000000000 +0200
+++ dietlibc-0.30-execstack/i386/socket.S	2006-09-07 12:24:13.083171500 +0200
@@ -2,3 +2,7 @@
 #include <syscalls.h>
 
 __socketcall(socket,SOCKET)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/sqrtl.S dietlibc-0.30-execstack/i386/sqrtl.S
--- dietlibc-0.30/i386/sqrtl.S	2001-09-03 15:09:29.000000000 +0200
+++ dietlibc-0.30-execstack/i386/sqrtl.S	2006-09-07 12:24:13.087171750 +0200
@@ -9,3 +9,7 @@ sqrtl:
 .ende:
 .size    sqrtl,.ende-sqrtl
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/sqrt.S dietlibc-0.30-execstack/i386/sqrt.S
--- dietlibc-0.30/i386/sqrt.S	2002-10-04 22:39:42.000000000 +0200
+++ dietlibc-0.30-execstack/i386/sqrt.S	2006-09-07 12:24:13.079171250 +0200
@@ -21,3 +21,7 @@ sqrtl:
 .size    sqrt,.ende-sqrt
 .size    sqrtf,.ende-sqrtf
 .size    sqrtl,.ende-sqrtl
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/start.S dietlibc-0.30-execstack/i386/start.S
--- dietlibc-0.30/i386/start.S	2006-04-04 07:35:14.000000000 +0200
+++ dietlibc-0.30-execstack/i386/start.S	2006-09-07 12:24:13.083171500 +0200
@@ -68,3 +68,7 @@ _start:
 .Lstart:
 	.size	 _start,.Lstart-_start
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/stpcpy.S dietlibc-0.30-execstack/i386/stpcpy.S
--- dietlibc-0.30/i386/stpcpy.S	2003-06-23 16:39:13.000000000 +0200
+++ dietlibc-0.30-execstack/i386/stpcpy.S	2006-09-07 12:24:13.091172000 +0200
@@ -20,3 +20,7 @@ stpcpy:
 	ret
 .Lende:
 .size stpcpy,.Lende-stpcpy
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/strcasecmp.S dietlibc-0.30-execstack/i386/strcasecmp.S
--- dietlibc-0.30/i386/strcasecmp.S	2004-04-29 13:10:39.000000000 +0200
+++ dietlibc-0.30-execstack/i386/strcasecmp.S	2006-09-07 12:24:13.083171500 +0200
@@ -32,3 +32,7 @@ strcasecmp:
 	jmp .Lret
 
 .size strcasecmp,.-strcasecmp
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/strcat.S dietlibc-0.30-execstack/i386/strcat.S
--- dietlibc-0.30/i386/strcat.S	2003-06-23 16:39:13.000000000 +0200
+++ dietlibc-0.30-execstack/i386/strcat.S	2006-09-07 12:24:13.087171750 +0200
@@ -28,3 +28,7 @@ strcat:
 	popl %esi
 	popl %edi
 	ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/strchr.S dietlibc-0.30-execstack/i386/strchr.S
--- dietlibc-0.30/i386/strchr.S	2001-10-29 16:09:33.000000000 +0100
+++ dietlibc-0.30-execstack/i386/strchr.S	2006-09-07 12:24:13.079171250 +0200
@@ -20,3 +20,7 @@ strchr:
 .Lfound:
 	movl	%ecx,%eax
 	ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/strcmp.S dietlibc-0.30-execstack/i386/strcmp.S
--- dietlibc-0.30/i386/strcmp.S	2001-10-29 16:09:33.000000000 +0100
+++ dietlibc-0.30-execstack/i386/strcmp.S	2006-09-07 12:24:13.091172000 +0200
@@ -29,3 +29,7 @@ strcmp:
 	testb	%al, %al
 	jnz	.Lloop
 	ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/strcpy.S dietlibc-0.30-execstack/i386/strcpy.S
--- dietlibc-0.30/i386/strcpy.S	2001-08-23 18:39:18.000000000 +0200
+++ dietlibc-0.30-execstack/i386/strcpy.S	2006-09-07 12:24:13.087171750 +0200
@@ -22,3 +22,7 @@ strcpy:
 	popl %esi
 	movl %edx,%eax
 	ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/strlen.S dietlibc-0.30-execstack/i386/strlen.S
--- dietlibc-0.30/i386/strlen.S	2002-02-21 23:53:43.000000000 +0100
+++ dietlibc-0.30-execstack/i386/strlen.S	2006-09-07 12:24:13.079171250 +0200
@@ -16,3 +16,7 @@ strlen:
 .Lende:
 
 .size    strlen,.Lende-strlen
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/strncmp.S dietlibc-0.30-execstack/i386/strncmp.S
--- dietlibc-0.30/i386/strncmp.S	2003-10-15 17:32:09.000000000 +0200
+++ dietlibc-0.30-execstack/i386/strncmp.S	2006-09-07 12:24:13.087171750 +0200
@@ -31,3 +31,7 @@ strncmp:
 	popl %esi
 	ret
 .size	strncmp,.-strncmp
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/strncpy.S dietlibc-0.30-execstack/i386/strncpy.S
--- dietlibc-0.30/i386/strncpy.S	2004-09-11 14:37:57.000000000 +0200
+++ dietlibc-0.30-execstack/i386/strncpy.S	2006-09-07 12:24:13.091172000 +0200
@@ -47,3 +47,7 @@ strncpy:
 	popl %edi
 	popl %esi
 	ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/strrchr.S dietlibc-0.30-execstack/i386/strrchr.S
--- dietlibc-0.30/i386/strrchr.S	2003-10-13 16:39:23.000000000 +0200
+++ dietlibc-0.30-execstack/i386/strrchr.S	2006-09-07 12:24:13.087171750 +0200
@@ -17,3 +17,7 @@ strrchr:
 	jmp	.Lloop
 .Lret:
 	ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/tanh.S dietlibc-0.30-execstack/i386/tanh.S
--- dietlibc-0.30/i386/tanh.S	2004-12-17 20:22:11.000000000 +0100
+++ dietlibc-0.30-execstack/i386/tanh.S	2006-09-07 12:24:13.087171750 +0200
@@ -41,3 +41,7 @@ tanhl:
 .size    tanh,.Lende-tanh
 .size    tanhf,.Lende-tanhf
 .size    tanhl,.Lende-tanhl
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/tan.S dietlibc-0.30-execstack/i386/tan.S
--- dietlibc-0.30/i386/tan.S	2004-12-17 20:22:11.000000000 +0100
+++ dietlibc-0.30-execstack/i386/tan.S	2006-09-07 12:24:13.079171250 +0200
@@ -31,3 +31,7 @@ tanl:
 .size    tan,.ende-tan
 .size    tanf,.ende-tanf
 .size    tanl,.ende-tanl
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/__ten.S dietlibc-0.30-execstack/i386/__ten.S
--- dietlibc-0.30/i386/__ten.S	2001-07-27 16:45:58.000000000 +0200
+++ dietlibc-0.30-execstack/i386/__ten.S	2006-09-07 12:24:13.083171500 +0200
@@ -7,3 +7,7 @@
 .type   __ten,@object
 .size   __ten,4
 __ten:  .long 0x41200000
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/__testandset.S dietlibc-0.30-execstack/i386/__testandset.S
--- dietlibc-0.30/i386/__testandset.S	2001-10-29 16:09:33.000000000 +0100
+++ dietlibc-0.30-execstack/i386/__testandset.S	2006-09-07 12:24:13.083171500 +0200
@@ -7,3 +7,7 @@ __testandset:
 	incl	%eax
 	xchgl	%eax,(%edx)
 	ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/unified.S dietlibc-0.30-execstack/i386/unified.S
--- dietlibc-0.30/i386/unified.S	2004-01-15 18:35:43.000000000 +0100
+++ dietlibc-0.30-execstack/i386/unified.S	2006-09-07 12:24:13.083171500 +0200
@@ -75,3 +75,7 @@ __unified_syscall:
 	int	$0x80
 	ret
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/usleep.S dietlibc-0.30-execstack/i386/usleep.S
--- dietlibc-0.30/i386/usleep.S	2002-02-25 17:00:50.000000000 +0100
+++ dietlibc-0.30-execstack/i386/usleep.S	2006-09-07 12:24:13.091172000 +0200
@@ -29,3 +29,7 @@ usleep:
 .Lende:
 .size    usleep,.Lende-usleep
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/vfork.S dietlibc-0.30-execstack/i386/vfork.S
--- dietlibc-0.30/i386/vfork.S	2004-04-29 16:37:25.000000000 +0200
+++ dietlibc-0.30-execstack/i386/vfork.S	2006-09-07 12:24:13.083171500 +0200
@@ -8,3 +8,7 @@ vfork:
 	int $0x80
 	jmpl *%edx
 .size vfork, . - vfork
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/i386/write12.S dietlibc-0.30-execstack/i386/write12.S
--- dietlibc-0.30/i386/write12.S	2002-02-25 17:00:50.000000000 +0100
+++ dietlibc-0.30-execstack/i386/write12.S	2006-09-07 12:24:13.079171250 +0200
@@ -35,3 +35,7 @@ __write1:
 	addl	$12,%esp		# und das leidvolle Putzen
 	PIC_RESTORE		# non-PIC: empty line
 	ret
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/accept.S dietlibc-0.30-execstack/ia64/accept.S
--- dietlibc-0.30/ia64/accept.S	2002-07-03 22:33:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/accept.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(accept, accept);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/bind.S dietlibc-0.30-execstack/ia64/bind.S
--- dietlibc-0.30/ia64/bind.S	2002-07-03 22:33:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/bind.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(bind, bind);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/clone.S dietlibc-0.30-execstack/ia64/clone.S
--- dietlibc-0.30/ia64/clone.S	2006-06-21 22:01:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/clone.S	2006-09-07 12:24:13.107173000 +0200
@@ -44,3 +44,7 @@ __clone:
 	br.ret.sptk.few b0
 .endp __clone
 .size __clone, . - __clone
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/connect.S dietlibc-0.30-execstack/ia64/connect.S
--- dietlibc-0.30/ia64/connect.S	2002-07-03 22:33:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/connect.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(connect, connect);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/fork.S dietlibc-0.30-execstack/ia64/fork.S
--- dietlibc-0.30/ia64/fork.S	2003-10-10 15:37:34.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/fork.S	2006-09-07 12:24:13.107173000 +0200
@@ -16,3 +16,7 @@ __libc_fork:
 	;;
 	mov r15 = __NR_clone
 	br __unified_syscall
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/getpeername.S dietlibc-0.30-execstack/ia64/getpeername.S
--- dietlibc-0.30/ia64/getpeername.S	2002-07-03 22:33:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/getpeername.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getpeername, getpeername);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/getsockname.S dietlibc-0.30-execstack/ia64/getsockname.S
--- dietlibc-0.30/ia64/getsockname.S	2002-07-03 22:33:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/getsockname.S	2006-09-07 12:24:13.103172750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getsockname, getsockname);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/getsockopt.S dietlibc-0.30-execstack/ia64/getsockopt.S
--- dietlibc-0.30/ia64/getsockopt.S	2002-07-03 22:33:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/getsockopt.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getsockopt, getsockopt);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/listen.S dietlibc-0.30-execstack/ia64/listen.S
--- dietlibc-0.30/ia64/listen.S	2002-07-03 22:33:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/listen.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(listen, listen);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/__longjmp.S dietlibc-0.30-execstack/ia64/__longjmp.S
--- dietlibc-0.30/ia64/__longjmp.S	2005-03-15 09:51:22.000000000 +0100
+++ dietlibc-0.30-execstack/ia64/__longjmp.S	2006-09-07 12:24:13.107173000 +0200
@@ -164,3 +164,7 @@ LEAF(__longjmp)
 	mov pr=r24,-1
 	ret
 END(__longjmp)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/msgctl.S dietlibc-0.30-execstack/ia64/msgctl.S
--- dietlibc-0.30/ia64/msgctl.S	2003-01-04 23:21:47.000000000 +0100
+++ dietlibc-0.30-execstack/ia64/msgctl.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(msgctl,msgctl)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/msgget.S dietlibc-0.30-execstack/ia64/msgget.S
--- dietlibc-0.30/ia64/msgget.S	2003-01-04 23:21:47.000000000 +0100
+++ dietlibc-0.30-execstack/ia64/msgget.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(msgget,msgget)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/msgrcv.S dietlibc-0.30-execstack/ia64/msgrcv.S
--- dietlibc-0.30/ia64/msgrcv.S	2003-01-04 23:21:47.000000000 +0100
+++ dietlibc-0.30-execstack/ia64/msgrcv.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(msgrcv,msgrcv)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/msgsnd.S dietlibc-0.30-execstack/ia64/msgsnd.S
--- dietlibc-0.30/ia64/msgsnd.S	2003-01-04 23:21:47.000000000 +0100
+++ dietlibc-0.30-execstack/ia64/msgsnd.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(msgsnd,msgsnd)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/pipe.S dietlibc-0.30-execstack/ia64/pipe.S
--- dietlibc-0.30/ia64/pipe.S	2003-11-04 13:20:44.000000000 +0100
+++ dietlibc-0.30-execstack/ia64/pipe.S	2006-09-07 12:24:13.107173000 +0200
@@ -20,3 +20,7 @@ pipe:
 
 .endp pipe
 .size pipe, . - pipe
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/recvfrom.S dietlibc-0.30-execstack/ia64/recvfrom.S
--- dietlibc-0.30/ia64/recvfrom.S	2002-07-03 22:33:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/recvfrom.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(recvfrom, recvfrom);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/recvmsg.S dietlibc-0.30-execstack/ia64/recvmsg.S
--- dietlibc-0.30/ia64/recvmsg.S	2002-07-03 22:33:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/recvmsg.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(recvmsg, recvmsg);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/recv.S dietlibc-0.30-execstack/ia64/recv.S
--- dietlibc-0.30/ia64/recv.S	2002-07-03 22:33:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/recv.S	2006-09-07 12:24:13.103172750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(recv, recv);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/semctl.S dietlibc-0.30-execstack/ia64/semctl.S
--- dietlibc-0.30/ia64/semctl.S	2003-01-04 23:21:47.000000000 +0100
+++ dietlibc-0.30-execstack/ia64/semctl.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(semctl,semctl)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/semget.S dietlibc-0.30-execstack/ia64/semget.S
--- dietlibc-0.30/ia64/semget.S	2003-01-04 23:21:47.000000000 +0100
+++ dietlibc-0.30-execstack/ia64/semget.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(semget,semget)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/semop.S dietlibc-0.30-execstack/ia64/semop.S
--- dietlibc-0.30/ia64/semop.S	2003-01-04 23:21:47.000000000 +0100
+++ dietlibc-0.30-execstack/ia64/semop.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(semop,semop)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/sendmsg.S dietlibc-0.30-execstack/ia64/sendmsg.S
--- dietlibc-0.30/ia64/sendmsg.S	2002-07-03 22:33:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/sendmsg.S	2006-09-07 12:24:13.103172750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(sendmsg, sendmsg);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/send.S dietlibc-0.30-execstack/ia64/send.S
--- dietlibc-0.30/ia64/send.S	2002-07-03 22:33:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/send.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(send, send);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/sendto.S dietlibc-0.30-execstack/ia64/sendto.S
--- dietlibc-0.30/ia64/sendto.S	2002-07-03 22:33:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/sendto.S	2006-09-07 12:24:13.103172750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(sendto, sendto);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/setjmp.S dietlibc-0.30-execstack/ia64/setjmp.S
--- dietlibc-0.30/ia64/setjmp.S	2005-03-15 09:51:22.000000000 +0100
+++ dietlibc-0.30-execstack/ia64/setjmp.S	2006-09-07 12:24:13.107173000 +0200
@@ -196,3 +196,7 @@ strong_alias(__sigsetjmp, _GI___sigsetjm
 
 weak_extern(_setjmp)
 weak_extern(setjmp)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/setsockopt.S dietlibc-0.30-execstack/ia64/setsockopt.S
--- dietlibc-0.30/ia64/setsockopt.S	2002-07-03 22:33:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/setsockopt.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(setsockopt, setsockopt);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/shmat.S dietlibc-0.30-execstack/ia64/shmat.S
--- dietlibc-0.30/ia64/shmat.S	2003-01-04 23:21:47.000000000 +0100
+++ dietlibc-0.30-execstack/ia64/shmat.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(shmat,shmat)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/shmctl.S dietlibc-0.30-execstack/ia64/shmctl.S
--- dietlibc-0.30/ia64/shmctl.S	2003-01-04 23:21:47.000000000 +0100
+++ dietlibc-0.30-execstack/ia64/shmctl.S	2006-09-07 12:24:13.103172750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(shmctl,shmctl)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/shmdt.S dietlibc-0.30-execstack/ia64/shmdt.S
--- dietlibc-0.30/ia64/shmdt.S	2003-01-04 23:21:47.000000000 +0100
+++ dietlibc-0.30-execstack/ia64/shmdt.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(shmdt,shmdt)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/shmget.S dietlibc-0.30-execstack/ia64/shmget.S
--- dietlibc-0.30/ia64/shmget.S	2003-01-04 23:21:47.000000000 +0100
+++ dietlibc-0.30-execstack/ia64/shmget.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(shmget,shmget)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/shutdown.S dietlibc-0.30-execstack/ia64/shutdown.S
--- dietlibc-0.30/ia64/shutdown.S	2002-07-03 22:33:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/shutdown.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(shutdown, shutdown);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/socketpair.S dietlibc-0.30-execstack/ia64/socketpair.S
--- dietlibc-0.30/ia64/socketpair.S	2002-07-03 22:33:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/socketpair.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(socketpair, socketpair);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/socket.S dietlibc-0.30-execstack/ia64/socket.S
--- dietlibc-0.30/ia64/socket.S	2002-07-03 22:33:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/socket.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(socket, socket);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/start.S dietlibc-0.30-execstack/ia64/start.S
--- dietlibc-0.30/ia64/start.S	2006-04-04 07:35:14.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/start.S	2006-09-07 12:24:13.107173000 +0200
@@ -51,3 +51,7 @@ _start:
 	br exit                     /* branch to exit */
 .endp _start
 .size _start, . - _start
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/__testandset.S dietlibc-0.30-execstack/ia64/__testandset.S
--- dietlibc-0.30/ia64/__testandset.S	2006-06-21 22:01:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/__testandset.S	2006-09-07 12:24:13.107173000 +0200
@@ -10,3 +10,7 @@ __testandset:
 	br.ret.sptk.clr b0
 .endp __testandset
 .size __testandset, . - __testandset
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/unified.S dietlibc-0.30-execstack/ia64/unified.S
--- dietlibc-0.30/ia64/unified.S	2006-06-21 22:01:37.000000000 +0200
+++ dietlibc-0.30-execstack/ia64/unified.S	2006-09-07 12:24:13.107173000 +0200
@@ -42,3 +42,7 @@ __error_unified_syscall:
 
 .size __unified_syscall, __error_unified_syscall - __unified_syscall
 .size __error_unified_syscall, . - __error_unified_syscall
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/utime.S dietlibc-0.30-execstack/ia64/utime.S
--- dietlibc-0.30/ia64/utime.S	2002-11-09 18:44:47.000000000 +0100
+++ dietlibc-0.30-execstack/ia64/utime.S	2006-09-07 12:24:13.107173000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(utimes,utime)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ia64/vfork.S dietlibc-0.30-execstack/ia64/vfork.S
--- dietlibc-0.30/ia64/vfork.S	2002-11-09 18:44:47.000000000 +0100
+++ dietlibc-0.30-execstack/ia64/vfork.S	2006-09-07 12:24:13.107173000 +0200
@@ -6,3 +6,7 @@ vfork:
 	mov r15 = __NR_clone
 	mov r32 = 16657
 	br __unified_syscall
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/libcompat/syscall.S dietlibc-0.30-execstack/libcompat/syscall.S
--- dietlibc-0.30/libcompat/syscall.S	2006-04-04 05:42:48.000000000 +0200
+++ dietlibc-0.30-execstack/libcompat/syscall.S	2006-09-07 12:24:13.127174250 +0200
@@ -133,3 +133,7 @@ syscall:
 		/* arch not implemented yet */
 #endif
 .size	syscall, . - syscall
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/libdl/_dl_jump.S dietlibc-0.30-execstack/libdl/_dl_jump.S
--- dietlibc-0.30/libdl/_dl_jump.S	2002-03-04 17:18:13.000000000 +0100
+++ dietlibc-0.30-execstack/libdl/_dl_jump.S	2006-09-07 12:24:13.127174250 +0200
@@ -53,3 +53,7 @@ _dl_jump:
 	mov	pc, r12
 
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/accept.S dietlibc-0.30-execstack/mips/accept.S
--- dietlibc-0.30/mips/accept.S	2002-09-12 15:07:47.000000000 +0200
+++ dietlibc-0.30-execstack/mips/accept.S	2006-09-07 12:24:13.119173750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(accept,accept,__libc_accept)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/bind.S dietlibc-0.30-execstack/mips/bind.S
--- dietlibc-0.30/mips/bind.S	2002-09-12 15:11:22.000000000 +0200
+++ dietlibc-0.30-execstack/mips/bind.S	2006-09-07 12:24:13.119173750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(bind,bind)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/clone.S dietlibc-0.30-execstack/mips/clone.S
--- dietlibc-0.30/mips/clone.S	2002-03-20 13:27:03.000000000 +0100
+++ dietlibc-0.30-execstack/mips/clone.S	2006-09-07 12:24:13.115173500 +0200
@@ -44,3 +44,7 @@ __clone:
 	jal	_exit
 
 .end	__clone
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/connect.S dietlibc-0.30-execstack/mips/connect.S
--- dietlibc-0.30/mips/connect.S	2002-09-12 15:07:47.000000000 +0200
+++ dietlibc-0.30-execstack/mips/connect.S	2006-09-07 12:24:13.115173500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(connect,connect,__libc_connect)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/errlist.S dietlibc-0.30-execstack/mips/errlist.S
--- dietlibc-0.30/mips/errlist.S	2005-05-15 01:35:39.000000000 +0200
+++ dietlibc-0.30-execstack/mips/errlist.S	2006-09-07 12:24:13.115173500 +0200
@@ -336,3 +336,7 @@ sys_nerr:
 /* handled in strerror.c
 .LC1133: .string "Quota exceeded"
 */
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/getpeername.S dietlibc-0.30-execstack/mips/getpeername.S
--- dietlibc-0.30/mips/getpeername.S	2002-09-12 15:07:47.000000000 +0200
+++ dietlibc-0.30-execstack/mips/getpeername.S	2006-09-07 12:24:13.115173500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getpeername,getpeername)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/getsockname.S dietlibc-0.30-execstack/mips/getsockname.S
--- dietlibc-0.30/mips/getsockname.S	2002-09-12 15:07:47.000000000 +0200
+++ dietlibc-0.30-execstack/mips/getsockname.S	2006-09-07 12:24:13.115173500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getsockname,getsockname)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/getsockopt.S dietlibc-0.30-execstack/mips/getsockopt.S
--- dietlibc-0.30/mips/getsockopt.S	2002-09-12 15:07:47.000000000 +0200
+++ dietlibc-0.30-execstack/mips/getsockopt.S	2006-09-07 12:24:13.119173750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getsockopt,getsockopt)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/listen.S dietlibc-0.30-execstack/mips/listen.S
--- dietlibc-0.30/mips/listen.S	2002-09-12 15:07:47.000000000 +0200
+++ dietlibc-0.30-execstack/mips/listen.S	2006-09-07 12:24:13.115173500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(listen,listen)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/__longjmp.S dietlibc-0.30-execstack/mips/__longjmp.S
--- dietlibc-0.30/mips/__longjmp.S	2003-04-07 20:24:53.000000000 +0200
+++ dietlibc-0.30-execstack/mips/__longjmp.S	2006-09-07 12:24:13.119173750 +0200
@@ -33,3 +33,7 @@ __longjmp:
 	li	 $2, 1
 1:	j	$25
 .end	__longjmp
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/pipe.S dietlibc-0.30-execstack/mips/pipe.S
--- dietlibc-0.30/mips/pipe.S	2002-10-21 13:29:25.000000000 +0200
+++ dietlibc-0.30-execstack/mips/pipe.S	2006-09-07 12:24:13.115173500 +0200
@@ -22,3 +22,7 @@ pipe:
 	la	$25, error_unified_syscall
 	jr	$25
 .end pipe
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/__pread.S dietlibc-0.30-execstack/mips/__pread.S
--- dietlibc-0.30/mips/__pread.S	2004-05-11 15:33:53.000000000 +0200
+++ dietlibc-0.30-execstack/mips/__pread.S	2006-09-07 12:24:13.119173750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(pread,__pread)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/__pwrite.S dietlibc-0.30-execstack/mips/__pwrite.S
--- dietlibc-0.30/mips/__pwrite.S	2004-05-11 15:33:53.000000000 +0200
+++ dietlibc-0.30-execstack/mips/__pwrite.S	2006-09-07 12:24:13.115173500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(pwrite,__pwrite)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/recvfrom.S dietlibc-0.30-execstack/mips/recvfrom.S
--- dietlibc-0.30/mips/recvfrom.S	2002-09-12 15:07:47.000000000 +0200
+++ dietlibc-0.30-execstack/mips/recvfrom.S	2006-09-07 12:24:13.119173750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(recvfrom,recvfrom,__libc_recvfrom)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/recvmsg.S dietlibc-0.30-execstack/mips/recvmsg.S
--- dietlibc-0.30/mips/recvmsg.S	2002-09-12 15:07:47.000000000 +0200
+++ dietlibc-0.30-execstack/mips/recvmsg.S	2006-09-07 12:24:13.119173750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(recvmsg,recvmsg)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/recv.S dietlibc-0.30-execstack/mips/recv.S
--- dietlibc-0.30/mips/recv.S	2002-09-12 15:07:47.000000000 +0200
+++ dietlibc-0.30-execstack/mips/recv.S	2006-09-07 12:24:13.115173500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(recv,recv,__libc_recv)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/select.S dietlibc-0.30-execstack/mips/select.S
--- dietlibc-0.30/mips/select.S	2001-01-30 15:46:53.000000000 +0100
+++ dietlibc-0.30-execstack/mips/select.S	2006-09-07 12:24:13.115173500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(_newselect,select)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/sendmsg.S dietlibc-0.30-execstack/mips/sendmsg.S
--- dietlibc-0.30/mips/sendmsg.S	2002-09-12 15:07:47.000000000 +0200
+++ dietlibc-0.30-execstack/mips/sendmsg.S	2006-09-07 12:24:13.115173500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(sendmsg,sendmsg)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/send.S dietlibc-0.30-execstack/mips/send.S
--- dietlibc-0.30/mips/send.S	2002-09-12 15:07:47.000000000 +0200
+++ dietlibc-0.30-execstack/mips/send.S	2006-09-07 12:24:13.119173750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(send,send,__libc_send)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/sendto.S dietlibc-0.30-execstack/mips/sendto.S
--- dietlibc-0.30/mips/sendto.S	2002-09-12 15:07:47.000000000 +0200
+++ dietlibc-0.30-execstack/mips/sendto.S	2006-09-07 12:24:13.115173500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(sendto,sendto,__libc_sendto)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/setjmp.S dietlibc-0.30-execstack/mips/setjmp.S
--- dietlibc-0.30/mips/setjmp.S	2002-09-12 12:33:48.000000000 +0200
+++ dietlibc-0.30-execstack/mips/setjmp.S	2006-09-07 12:24:13.119173750 +0200
@@ -37,3 +37,7 @@ __sigsetjmp:
 	j	$25
 .end	__sigsetjmp
 .weak	setjmp
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/setsockopt.S dietlibc-0.30-execstack/mips/setsockopt.S
--- dietlibc-0.30/mips/setsockopt.S	2002-09-12 15:07:47.000000000 +0200
+++ dietlibc-0.30-execstack/mips/setsockopt.S	2006-09-07 12:24:13.119173750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(setsockopt,setsockopt)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/shutdown.S dietlibc-0.30-execstack/mips/shutdown.S
--- dietlibc-0.30/mips/shutdown.S	2002-09-12 15:11:22.000000000 +0200
+++ dietlibc-0.30-execstack/mips/shutdown.S	2006-09-07 12:24:13.119173750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(shutdown,shutdown)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/socketcall.S dietlibc-0.30-execstack/mips/socketcall.S
--- dietlibc-0.30/mips/socketcall.S	2002-09-12 15:11:22.000000000 +0200
+++ dietlibc-0.30-execstack/mips/socketcall.S	2006-09-07 12:24:13.115173500 +0200
@@ -3,3 +3,7 @@
 /*
  * Doesn't exist on mips ( accept, bind, ... are SYSCALLS !?! )
  */
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/socketpair.S dietlibc-0.30-execstack/mips/socketpair.S
--- dietlibc-0.30/mips/socketpair.S	2002-09-12 15:07:47.000000000 +0200
+++ dietlibc-0.30-execstack/mips/socketpair.S	2006-09-07 12:24:13.115173500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(socketpair,socketpair)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/socket.S dietlibc-0.30-execstack/mips/socket.S
--- dietlibc-0.30/mips/socket.S	2002-09-12 15:07:47.000000000 +0200
+++ dietlibc-0.30-execstack/mips/socket.S	2006-09-07 12:24:13.115173500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(socket,socket)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/start.S dietlibc-0.30-execstack/mips/start.S
--- dietlibc-0.30/mips/start.S	2006-04-04 07:35:14.000000000 +0200
+++ dietlibc-0.30-execstack/mips/start.S	2006-09-07 12:24:13.115173500 +0200
@@ -56,3 +56,7 @@ __start:
 .type __main,@function
 __main:
 	j	$31
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/__testandset.S dietlibc-0.30-execstack/mips/__testandset.S
--- dietlibc-0.30/mips/__testandset.S	2003-02-19 13:10:12.000000000 +0100
+++ dietlibc-0.30-execstack/mips/__testandset.S	2006-09-07 12:24:13.115173500 +0200
@@ -15,3 +15,7 @@ __testandset:
 1:	.set	mips0
 	jr	$31
 .end	__testandset
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/mips/unified.S dietlibc-0.30-execstack/mips/unified.S
--- dietlibc-0.30/mips/unified.S	2002-12-11 20:31:04.000000000 +0100
+++ dietlibc-0.30-execstack/mips/unified.S	2006-09-07 12:24:13.115173500 +0200
@@ -47,3 +47,7 @@ error_unified_syscall:
 	jr	$31
 #endif
 	.end	error_unified_syscall
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/accept.S dietlibc-0.30-execstack/parisc/accept.S
--- dietlibc-0.30/parisc/accept.S	2002-07-03 22:33:38.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/accept.S	2006-09-07 12:24:13.123174000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(accept, accept);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/bind.S dietlibc-0.30-execstack/parisc/bind.S
--- dietlibc-0.30/parisc/bind.S	2002-07-03 22:33:38.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/bind.S	2006-09-07 12:24:13.123174000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(bind, bind);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/clone.S dietlibc-0.30-execstack/parisc/clone.S
--- dietlibc-0.30/parisc/clone.S	2002-06-11 12:59:44.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/clone.S	2006-09-07 12:24:13.123174000 +0200
@@ -38,3 +38,7 @@ __clone:
 	copy	%r28,%r26		/* return -> arg0 */
 
 	iitlbp	%r0,(%r0)		/* DIE ! DIE ! */
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/connect.S dietlibc-0.30-execstack/parisc/connect.S
--- dietlibc-0.30/parisc/connect.S	2002-07-03 22:33:38.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/connect.S	2006-09-07 12:24:13.123174000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(connect, connect);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/getpeername.S dietlibc-0.30-execstack/parisc/getpeername.S
--- dietlibc-0.30/parisc/getpeername.S	2002-07-03 22:33:38.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/getpeername.S	2006-09-07 12:24:13.123174000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getpeername, getpeername);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/getsockname.S dietlibc-0.30-execstack/parisc/getsockname.S
--- dietlibc-0.30/parisc/getsockname.S	2002-07-03 22:33:38.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/getsockname.S	2006-09-07 12:24:13.119173750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getsockname, getsockname);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/getsockopt.S dietlibc-0.30-execstack/parisc/getsockopt.S
--- dietlibc-0.30/parisc/getsockopt.S	2006-04-04 05:10:40.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/getsockopt.S	2006-09-07 12:24:13.123174000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall5(getsockopt, getsockopt);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/listen.S dietlibc-0.30-execstack/parisc/listen.S
--- dietlibc-0.30/parisc/listen.S	2002-07-03 22:33:38.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/listen.S	2006-09-07 12:24:13.123174000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(listen, listen);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/_llseek.S dietlibc-0.30-execstack/parisc/_llseek.S
--- dietlibc-0.30/parisc/_llseek.S	2006-04-04 05:10:40.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/_llseek.S	2006-09-07 12:24:13.123174000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall5(llseek, llseek);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/__longjmp.S dietlibc-0.30-execstack/parisc/__longjmp.S
--- dietlibc-0.30/parisc/__longjmp.S	2002-01-11 19:06:53.000000000 +0100
+++ dietlibc-0.30-execstack/parisc/__longjmp.S	2006-09-07 12:24:13.123174000 +0200
@@ -60,3 +60,7 @@ __longjmp:
 	fldd 0(%sr0, %r20), %fr21
 
 	bv,n %r0(%rp)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/mmap.S dietlibc-0.30-execstack/parisc/mmap.S
--- dietlibc-0.30/parisc/mmap.S	2006-04-04 05:10:40.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/mmap.S	2006-09-07 12:24:13.123174000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall6(mmap, mmap);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/mount.S dietlibc-0.30-execstack/parisc/mount.S
--- dietlibc-0.30/parisc/mount.S	2006-04-04 05:10:40.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/mount.S	2006-09-07 12:24:13.123174000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall5(mount, mount);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/recvfrom.S dietlibc-0.30-execstack/parisc/recvfrom.S
--- dietlibc-0.30/parisc/recvfrom.S	2006-04-04 05:10:40.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/recvfrom.S	2006-09-07 12:24:13.123174000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall6(recvfrom, recvfrom);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/recvmsg.S dietlibc-0.30-execstack/parisc/recvmsg.S
--- dietlibc-0.30/parisc/recvmsg.S	2002-07-03 22:33:38.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/recvmsg.S	2006-09-07 12:24:13.123174000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(recvmsg, recvmsg);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/recv.S dietlibc-0.30-execstack/parisc/recv.S
--- dietlibc-0.30/parisc/recv.S	2002-07-03 22:33:38.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/recv.S	2006-09-07 12:24:13.119173750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(recv, recv);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/select.S dietlibc-0.30-execstack/parisc/select.S
--- dietlibc-0.30/parisc/select.S	2006-04-04 05:10:40.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/select.S	2006-09-07 12:24:13.123174000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall5(select, select);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/sendmsg.S dietlibc-0.30-execstack/parisc/sendmsg.S
--- dietlibc-0.30/parisc/sendmsg.S	2002-07-03 22:33:38.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/sendmsg.S	2006-09-07 12:24:13.119173750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(sendmsg, sendmsg);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/send.S dietlibc-0.30-execstack/parisc/send.S
--- dietlibc-0.30/parisc/send.S	2002-07-03 22:33:38.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/send.S	2006-09-07 12:24:13.123174000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(send, send);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/sendto.S dietlibc-0.30-execstack/parisc/sendto.S
--- dietlibc-0.30/parisc/sendto.S	2006-04-04 05:10:40.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/sendto.S	2006-09-07 12:24:13.119173750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall6(sendto, sendto);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/setjmp.S dietlibc-0.30-execstack/parisc/setjmp.S
--- dietlibc-0.30/parisc/setjmp.S	2003-09-21 15:03:49.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/setjmp.S	2006-09-07 12:24:13.123174000 +0200
@@ -65,3 +65,7 @@ __sigsetjmp:
 	fstd %fr21, 0(%sr0, %r19)
 	b,l __sigjmp_save, %r0
 	nop
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/setsockopt.S dietlibc-0.30-execstack/parisc/setsockopt.S
--- dietlibc-0.30/parisc/setsockopt.S	2006-04-04 05:10:40.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/setsockopt.S	2006-09-07 12:24:13.123174000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall5(setsockopt, setsockopt);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/shutdown.S dietlibc-0.30-execstack/parisc/shutdown.S
--- dietlibc-0.30/parisc/shutdown.S	2002-07-03 22:33:38.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/shutdown.S	2006-09-07 12:24:13.123174000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(shutdown, shutdown);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/socketpair.S dietlibc-0.30-execstack/parisc/socketpair.S
--- dietlibc-0.30/parisc/socketpair.S	2002-07-03 22:33:38.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/socketpair.S	2006-09-07 12:24:13.123174000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(socketpair, socketpair);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/socket.S dietlibc-0.30-execstack/parisc/socket.S
--- dietlibc-0.30/parisc/socket.S	2002-07-03 22:33:38.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/socket.S	2006-09-07 12:24:13.123174000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(socket, socket);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/start.S dietlibc-0.30-execstack/parisc/start.S
--- dietlibc-0.30/parisc/start.S	2006-04-04 07:35:14.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/start.S	2006-09-07 12:24:13.123174000 +0200
@@ -50,3 +50,7 @@ _start:
 	or %r28, %r28, %r26
 	.EXIT
 	.PROCEND
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/strcasecmp.S dietlibc-0.30-execstack/parisc/strcasecmp.S
--- dietlibc-0.30/parisc/strcasecmp.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/strcasecmp.S	2006-09-07 12:24:13.123174000 +0200
@@ -37,3 +37,7 @@ strcasecmp:
 	.EXIT
 	.PROCEND
 	.EXPORT strcasecmp
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/strcmp.S dietlibc-0.30-execstack/parisc/strcmp.S
--- dietlibc-0.30/parisc/strcmp.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/strcmp.S	2006-09-07 12:24:13.123174000 +0200
@@ -16,3 +16,7 @@ strcmp:
 	.EXIT
 	.PROCEND
 	.EXPORT strcmp
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/strlen.S dietlibc-0.30-execstack/parisc/strlen.S
--- dietlibc-0.30/parisc/strlen.S	2003-09-21 15:03:49.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/strlen.S	2006-09-07 12:24:13.123174000 +0200
@@ -48,3 +48,7 @@ strlen:
         .PROCEND
         .EXPORT strlen
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/strncasecmp.S dietlibc-0.30-execstack/parisc/strncasecmp.S
--- dietlibc-0.30/parisc/strncasecmp.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/strncasecmp.S	2006-09-07 12:24:13.119173750 +0200
@@ -37,3 +37,7 @@ strncasecmp:
 	.EXIT
 	.PROCEND
 	.EXPORT strncasecmp
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/strncmp.S dietlibc-0.30-execstack/parisc/strncmp.S
--- dietlibc-0.30/parisc/strncmp.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/strncmp.S	2006-09-07 12:24:13.123174000 +0200
@@ -19,3 +19,7 @@ strncmp:
 	.EXIT
 	.PROCEND
 	.EXPORT strncmp
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/strncpy.S dietlibc-0.30-execstack/parisc/strncpy.S
--- dietlibc-0.30/parisc/strncpy.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/strncpy.S	2006-09-07 12:24:13.123174000 +0200
@@ -15,3 +15,7 @@ strncpy:
 	.EXIT
 	.PROCEND
 	.EXPORT strncpy
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/strpbrk.S dietlibc-0.30-execstack/parisc/strpbrk.S
--- dietlibc-0.30/parisc/strpbrk.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/strpbrk.S	2006-09-07 12:24:13.123174000 +0200
@@ -24,3 +24,7 @@ strpbrk:
 	.EXIT
 	.PROCEND
 	.EXPORT strpbrk
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/strrchr.S dietlibc-0.30-execstack/parisc/strrchr.S
--- dietlibc-0.30/parisc/strrchr.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/strrchr.S	2006-09-07 12:24:13.123174000 +0200
@@ -28,3 +28,7 @@ strrchr:
 	.EXIT
 	.PROCEND
 	.EXPORT strrchr
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/strstr.S dietlibc-0.30-execstack/parisc/strstr.S
--- dietlibc-0.30/parisc/strstr.S	2003-09-16 16:27:33.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/strstr.S	2006-09-07 12:24:13.123174000 +0200
@@ -32,3 +32,7 @@ strstr:
 	.EXIT
 	.PROCEND
 	.EXPORT strstr
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/__testandset.S dietlibc-0.30-execstack/parisc/__testandset.S
--- dietlibc-0.30/parisc/__testandset.S	2002-01-28 18:09:41.000000000 +0100
+++ dietlibc-0.30-execstack/parisc/__testandset.S	2006-09-07 12:24:13.123174000 +0200
@@ -6,3 +6,7 @@ __testandset:
 	ldi 1,%r19
 	bv %r0(%r2)
 	xor %r28,%r19,%r28
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/umount.S dietlibc-0.30-execstack/parisc/umount.S
--- dietlibc-0.30/parisc/umount.S	2003-09-16 16:25:07.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/umount.S	2006-09-07 12:24:13.123174000 +0200
@@ -8,3 +8,7 @@ umount:
 	ldi 0, %r25
 	b __unified_syscall
 	ldi __NR_umount2, %r20
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/parisc/unified.S dietlibc-0.30-execstack/parisc/unified.S
--- dietlibc-0.30/parisc/unified.S	2006-04-04 05:10:40.000000000 +0200
+++ dietlibc-0.30-execstack/parisc/unified.S	2006-09-07 12:24:13.123174000 +0200
@@ -69,3 +69,7 @@ __error_unified_syscall:
 #include "dietuglyweaks.h"
 
 	bv,n %r0(%rp)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ppc/clone.S dietlibc-0.30-execstack/ppc/clone.S
--- dietlibc-0.30/ppc/clone.S	2001-12-13 17:05:03.000000000 +0100
+++ dietlibc-0.30-execstack/ppc/clone.S	2006-09-07 12:24:13.119173750 +0200
@@ -46,3 +46,7 @@ __clone:
 .Lclone_error:
 	li	3, EINVAL
 	b	error_unified_syscall
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ppc/__longjmp.S dietlibc-0.30-execstack/ppc/__longjmp.S
--- dietlibc-0.30/ppc/__longjmp.S	2001-01-25 18:23:36.000000000 +0100
+++ dietlibc-0.30-execstack/ppc/__longjmp.S	2006-09-07 12:24:13.119173750 +0200
@@ -57,3 +57,7 @@ __longjmp:
 	blr
 .size __longjmp,.-__longjmp
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ppc/setjmp.S dietlibc-0.30-execstack/ppc/setjmp.S
--- dietlibc-0.30/ppc/setjmp.S	2001-01-09 18:57:44.000000000 +0100
+++ dietlibc-0.30-execstack/ppc/setjmp.S	2006-09-07 12:24:13.119173750 +0200
@@ -54,3 +54,7 @@ __sigsetjmp:
         stfd 31,((JB_FPRS+17*2)*4)(3)
         b JUMPTARGET (__sigjmp_save)
 .size __sigsetjmp,.-__sigsetjmp
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ppc/start.S dietlibc-0.30-execstack/ppc/start.S
--- dietlibc-0.30/ppc/start.S	2006-04-04 07:35:14.000000000 +0200
+++ dietlibc-0.30-execstack/ppc/start.S	2006-09-07 12:24:13.119173750 +0200
@@ -50,3 +50,7 @@ __data_start:
 	.lcomm	__libc_stack_end,4,4
 	.type	__libc_stack_end,@object
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ppc/__testandset.S dietlibc-0.30-execstack/ppc/__testandset.S
--- dietlibc-0.30/ppc/__testandset.S	2002-09-16 13:17:01.000000000 +0200
+++ dietlibc-0.30-execstack/ppc/__testandset.S	2006-09-07 12:24:13.119173750 +0200
@@ -10,3 +10,7 @@ __testandset:
 	blr
 .size __testandset,.-__testandset
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ppc/unified.S dietlibc-0.30-execstack/ppc/unified.S
--- dietlibc-0.30/ppc/unified.S	2002-01-21 16:55:19.000000000 +0100
+++ dietlibc-0.30-execstack/ppc/unified.S	2006-09-07 12:24:13.119173750 +0200
@@ -38,3 +38,7 @@ error_unified_syscall:
 
 	blr
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ppc64/clone.S dietlibc-0.30-execstack/ppc64/clone.S
--- dietlibc-0.30/ppc64/clone.S	2005-05-13 20:39:32.000000000 +0200
+++ dietlibc-0.30-execstack/ppc64/clone.S	2006-09-07 12:24:13.091172000 +0200
@@ -50,3 +50,7 @@ __clone:
 .Lclone_error:
 	li	3, EINVAL
 	b	error_unified_syscall
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ppc64/__longjmp.S dietlibc-0.30-execstack/ppc64/__longjmp.S
--- dietlibc-0.30/ppc64/__longjmp.S	2005-09-21 09:33:08.000000000 +0200
+++ dietlibc-0.30-execstack/ppc64/__longjmp.S	2006-09-07 12:24:13.091172000 +0200
@@ -52,3 +52,7 @@
 	mr 3,4
 	blr
 .size .__longjmp,.-.__longjmp
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ppc64/setjmp.S dietlibc-0.30-execstack/ppc64/setjmp.S
--- dietlibc-0.30/ppc64/setjmp.S	2005-09-21 09:33:08.000000000 +0200
+++ dietlibc-0.30-execstack/ppc64/setjmp.S	2006-09-07 12:24:13.091172000 +0200
@@ -57,3 +57,7 @@
         stfd 31,((JB_FPRS+17)*8)(3)
         b JUMPTARGET (__sigjmp_save)
 .size .__sigsetjmp,.-.__sigsetjmp
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ppc64/start.S dietlibc-0.30-execstack/ppc64/start.S
--- dietlibc-0.30/ppc64/start.S	2006-04-04 07:35:14.000000000 +0200
+++ dietlibc-0.30-execstack/ppc64/start.S	2006-09-07 12:24:13.091172000 +0200
@@ -89,3 +89,7 @@ __data_start:
 	.lcomm	__libc_stack_end,8,8
 	.type	__libc_stack_end,@object
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ppc64/__testandset.S dietlibc-0.30-execstack/ppc64/__testandset.S
--- dietlibc-0.30/ppc64/__testandset.S	2003-10-10 15:37:34.000000000 +0200
+++ dietlibc-0.30-execstack/ppc64/__testandset.S	2006-09-07 12:24:13.091172000 +0200
@@ -10,3 +10,7 @@ __testandset:
 	blr
 .size __testandset,.-__testandset
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ppc64/umount.S dietlibc-0.30-execstack/ppc64/umount.S
--- dietlibc-0.30/ppc64/umount.S	2004-12-17 19:47:59.000000000 +0100
+++ dietlibc-0.30-execstack/ppc64/umount.S	2006-09-07 12:24:13.091172000 +0200
@@ -6,3 +6,7 @@ diet_proto(umount)
 		li 0, __NR_umount2
 		li 4, 0
 		b __unified_syscall
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/ppc64/unified.S dietlibc-0.30-execstack/ppc64/unified.S
--- dietlibc-0.30/ppc64/unified.S	2005-05-13 20:39:32.000000000 +0200
+++ dietlibc-0.30-execstack/ppc64/unified.S	2006-09-07 12:24:13.091172000 +0200
@@ -69,3 +69,7 @@ diet_proto_weak(__nop)
 diet_proto_weak(__you_tried_to_link_a_dietlibc_object_against_glibc)
 diet_proto_weak(exit)
 diet_proto(_exit)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/s390/clone.S dietlibc-0.30-execstack/s390/clone.S
--- dietlibc-0.30/s390/clone.S	2002-09-16 13:17:01.000000000 +0200
+++ dietlibc-0.30-execstack/s390/clone.S	2006-09-07 12:24:13.107173000 +0200
@@ -35,3 +35,7 @@ thread_start:
 .L2:	al	%r1, [.L3-.L2](%r1)
 	br	%r1
 .L3:	.long	__error_unified_syscall-.L0
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/s390/__longjmp.S dietlibc-0.30-execstack/s390/__longjmp.S
--- dietlibc-0.30/s390/__longjmp.S	2001-11-26 15:50:08.000000000 +0100
+++ dietlibc-0.30-execstack/s390/__longjmp.S	2006-09-07 12:24:13.115173500 +0200
@@ -13,3 +13,7 @@ __longjmp:
 1:	lr	%r2,%r3
 	br	%r14
 .size __longjmp,.-__longjmp;
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/s390/mmap64.S dietlibc-0.30-execstack/s390/mmap64.S
--- dietlibc-0.30/s390/mmap64.S	2006-04-04 05:42:48.000000000 +0200
+++ dietlibc-0.30-execstack/s390/mmap64.S	2006-09-07 12:24:13.107173000 +0200
@@ -50,3 +50,7 @@ mmap64:
         lm      %r6,%r15,24(%r15)       /* Load registers.  */
 	j	__unified_syscall
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/s390/mmap.S dietlibc-0.30-execstack/s390/mmap.S
--- dietlibc-0.30/s390/mmap.S	2006-04-04 05:42:48.000000000 +0200
+++ dietlibc-0.30-execstack/s390/mmap.S	2006-09-07 12:24:13.115173500 +0200
@@ -45,3 +45,7 @@ mmap:
         /* Successful; return the syscall's value.  */
         br      %r14
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/s390/select.S dietlibc-0.30-execstack/s390/select.S
--- dietlibc-0.30/s390/select.S	2005-03-23 20:57:53.000000000 +0100
+++ dietlibc-0.30-execstack/s390/select.S	2006-09-07 12:24:13.111173250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(_newselect,select)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/s390/setjmp.S dietlibc-0.30-execstack/s390/setjmp.S
--- dietlibc-0.30/s390/setjmp.S	2001-11-26 15:50:08.000000000 +0100
+++ dietlibc-0.30-execstack/s390/setjmp.S	2006-09-07 12:24:13.115173500 +0200
@@ -38,3 +38,7 @@ __sigsetjmp:
 .L1:	.long	__sigjmp_save
 #endif
 .size __sigsetjmp,.-__sigsetjmp;
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/s390/start.S dietlibc-0.30-execstack/s390/start.S
--- dietlibc-0.30/s390/start.S	2006-04-04 07:35:14.000000000 +0200
+++ dietlibc-0.30-execstack/s390/start.S	2006-09-07 12:24:13.107173000 +0200
@@ -54,3 +54,7 @@ _start:
 .Lstart:
 	.size	_start,.Lstart-_start
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/s390/__testandset.S dietlibc-0.30-execstack/s390/__testandset.S
--- dietlibc-0.30/s390/__testandset.S	2001-11-29 17:53:32.000000000 +0100
+++ dietlibc-0.30-execstack/s390/__testandset.S	2006-09-07 12:24:13.107173000 +0200
@@ -9,3 +9,7 @@ __testandset:
 	xr	%r2,%r0
 	br	%r14
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/s390/unified.S dietlibc-0.30-execstack/s390/unified.S
--- dietlibc-0.30/s390/unified.S	2003-10-10 15:37:34.000000000 +0200
+++ dietlibc-0.30-execstack/s390/unified.S	2006-09-07 12:24:13.107173000 +0200
@@ -52,3 +52,7 @@ __error_unified_syscall:
 #else
 	.long	errno
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/s390x/clone.S dietlibc-0.30-execstack/s390x/clone.S
--- dietlibc-0.30/s390x/clone.S	2003-10-10 15:37:34.000000000 +0200
+++ dietlibc-0.30-execstack/s390x/clone.S	2006-09-07 12:24:13.123174000 +0200
@@ -35,3 +35,7 @@ thread_start:
 .L2:	al	%r1, [.L3-.L2](%r1)
 	br	%r1
 .L3:	.long	__error_unified_syscall-.L0
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/s390x/__longjmp.S dietlibc-0.30-execstack/s390x/__longjmp.S
--- dietlibc-0.30/s390x/__longjmp.S	2003-10-10 15:37:34.000000000 +0200
+++ dietlibc-0.30-execstack/s390x/__longjmp.S	2006-09-07 12:24:13.127174250 +0200
@@ -13,3 +13,7 @@ __longjmp:
 1:	lr	%r2,%r3
 	br	%r14
 .size __longjmp,.-__longjmp;
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/s390x/mmap.S dietlibc-0.30-execstack/s390x/mmap.S
--- dietlibc-0.30/s390x/mmap.S	2003-10-10 15:37:34.000000000 +0200
+++ dietlibc-0.30-execstack/s390x/mmap.S	2006-09-07 12:24:13.127174250 +0200
@@ -34,3 +34,7 @@ mmap:
         lmg     %r6,%r15,48(%r15)       /* Load registers.  */
 	
 	j __unified_syscall
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/s390x/select.S dietlibc-0.30-execstack/s390x/select.S
--- dietlibc-0.30/s390x/select.S	2005-03-23 20:57:53.000000000 +0100
+++ dietlibc-0.30-execstack/s390x/select.S	2006-09-07 12:24:13.123174000 +0200
@@ -1 +1,5 @@
 #include "s390/select.S"
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/s390x/setjmp.S dietlibc-0.30-execstack/s390x/setjmp.S
--- dietlibc-0.30/s390x/setjmp.S	2003-10-10 15:37:34.000000000 +0200
+++ dietlibc-0.30-execstack/s390x/setjmp.S	2006-09-07 12:24:13.127174250 +0200
@@ -38,3 +38,7 @@ __sigsetjmp:
 .L1:	.long	__sigjmp_save
 #endif
 .size __sigsetjmp,.-__sigsetjmp;
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/s390x/start.S dietlibc-0.30-execstack/s390x/start.S
--- dietlibc-0.30/s390x/start.S	2006-04-04 07:35:14.000000000 +0200
+++ dietlibc-0.30-execstack/s390x/start.S	2006-09-07 12:24:13.123174000 +0200
@@ -42,3 +42,7 @@ _start:
 .align 4
 .Lstart:
         .size   _start,.Lstart-_start
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/s390x/__testandset.S dietlibc-0.30-execstack/s390x/__testandset.S
--- dietlibc-0.30/s390x/__testandset.S	2003-10-10 15:37:34.000000000 +0200
+++ dietlibc-0.30-execstack/s390x/__testandset.S	2006-09-07 12:24:13.123174000 +0200
@@ -9,3 +9,7 @@ __testandset:
 	xr	%r2,%r0
 	br	%r14
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/s390x/unified.S dietlibc-0.30-execstack/s390x/unified.S
--- dietlibc-0.30/s390x/unified.S	2003-10-10 15:37:34.000000000 +0200
+++ dietlibc-0.30-execstack/s390x/unified.S	2006-09-07 12:24:13.123174000 +0200
@@ -44,3 +44,7 @@ __error_unified_syscall:
 	br	%r14
 
 .align 4
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/atol.S dietlibc-0.30-execstack/sparc/atol.S
--- dietlibc-0.30/sparc/atol.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/atol.S	2006-09-07 12:24:13.103172750 +0200
@@ -46,3 +46,7 @@ atol:
 .Lretl:
 	retl
 	mov %o3, %o0
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/clone.S dietlibc-0.30-execstack/sparc/clone.S
--- dietlibc-0.30/sparc/clone.S	2003-05-15 17:17:10.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/clone.S	2006-09-07 12:24:13.103172750 +0200
@@ -42,3 +42,7 @@ __clone:
 	call	_exit		/* child returned */
 	nop
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/errlist.S dietlibc-0.30-execstack/sparc/errlist.S
--- dietlibc-0.30/sparc/errlist.S	2005-05-15 01:35:39.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/errlist.S	2006-09-07 12:24:13.099172500 +0200
@@ -288,3 +288,7 @@ sys_nerr:
 .LC131: .string "Key was rejected by service"
 
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/fork.S dietlibc-0.30-execstack/sparc/fork.S
--- dietlibc-0.30/sparc/fork.S	2003-05-15 17:17:10.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/fork.S	2006-09-07 12:24:13.103172750 +0200
@@ -13,3 +13,7 @@ __libc_fork:
 	retl
 	and	%o0, %o1, %o0
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/__longjmp.S dietlibc-0.30-execstack/sparc/__longjmp.S
--- dietlibc-0.30/sparc/__longjmp.S	2001-07-02 18:06:49.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/__longjmp.S	2006-09-07 12:24:13.103172750 +0200
@@ -66,3 +66,7 @@ __longjmp:
 
 .size __longjmp, . - __longjmp
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/memccpy.S dietlibc-0.30-execstack/sparc/memccpy.S
--- dietlibc-0.30/sparc/memccpy.S	2003-10-15 18:19:53.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/memccpy.S	2006-09-07 12:24:13.103172750 +0200
@@ -25,3 +25,7 @@ memccpy:
 .Lret:
 	retl
 	add %o0, %o4, %o0
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/memchr.S dietlibc-0.30-execstack/sparc/memchr.S
--- dietlibc-0.30/sparc/memchr.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/memchr.S	2006-09-07 12:24:13.099172500 +0200
@@ -23,3 +23,7 @@ memchr:
 .Lret:
 	retl
 	nop
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/memcmp.S dietlibc-0.30-execstack/sparc/memcmp.S
--- dietlibc-0.30/sparc/memcmp.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/memcmp.S	2006-09-07 12:24:13.103172750 +0200
@@ -25,3 +25,7 @@ memcmp:
 .Lret:
 	retl
 	sub %o3, %o4, %o0
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/memcpy.S dietlibc-0.30-execstack/sparc/memcpy.S
--- dietlibc-0.30/sparc/memcpy.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/memcpy.S	2006-09-07 12:24:13.103172750 +0200
@@ -23,3 +23,7 @@ memcpy:
 .Lret:
 	retl
 	nop
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/memmove.S dietlibc-0.30-execstack/sparc/memmove.S
--- dietlibc-0.30/sparc/memmove.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/memmove.S	2006-09-07 12:24:13.103172750 +0200
@@ -32,3 +32,7 @@ memmove:
 .Lret:
 	retl
 	mov %o5, %o0
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/memset.S dietlibc-0.30-execstack/sparc/memset.S
--- dietlibc-0.30/sparc/memset.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/memset.S	2006-09-07 12:24:13.099172500 +0200
@@ -17,3 +17,7 @@ memset:
 	stb %o1, [%o0+%o2]
 	retl
 	nop
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/pipe.S dietlibc-0.30-execstack/sparc/pipe.S
--- dietlibc-0.30/sparc/pipe.S	2003-05-15 17:17:10.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/pipe.S	2006-09-07 12:24:13.099172500 +0200
@@ -14,3 +14,7 @@ pipe:
 	retl
 	mov	%g0, %o0
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/rem.S dietlibc-0.30-execstack/sparc/rem.S
--- dietlibc-0.30/sparc/rem.S	2005-02-10 15:50:21.000000000 +0100
+++ dietlibc-0.30-execstack/sparc/rem.S	2006-09-07 12:24:13.099172500 +0200
@@ -364,3 +364,7 @@
 
 .size .rem,.-.rem;
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/sdiv.S dietlibc-0.30-execstack/sparc/sdiv.S
--- dietlibc-0.30/sparc/sdiv.S	2005-02-10 15:50:21.000000000 +0100
+++ dietlibc-0.30-execstack/sparc/sdiv.S	2006-09-07 12:24:13.099172500 +0200
@@ -364,3 +364,7 @@
 
 .size .div,.-.div;
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/setjmp.S dietlibc-0.30-execstack/sparc/setjmp.S
--- dietlibc-0.30/sparc/setjmp.S	2001-07-02 18:06:49.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/setjmp.S	2006-09-07 12:24:13.103172750 +0200
@@ -37,3 +37,7 @@ __sigsetjmp:
 	mov	%g1, %o7
 .size __sigsetjmp,.-__sigsetjmp
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/start.S dietlibc-0.30-execstack/sparc/start.S
--- dietlibc-0.30/sparc/start.S	2006-04-04 07:35:14.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/start.S	2006-09-07 12:24:13.099172500 +0200
@@ -47,3 +47,7 @@ _start:
 
 	.size _start, .-_start
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/strcat.S dietlibc-0.30-execstack/sparc/strcat.S
--- dietlibc-0.30/sparc/strcat.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/strcat.S	2006-09-07 12:24:13.103172750 +0200
@@ -27,3 +27,7 @@ strcat:
 	inc %o3
 	retl
 	mov %o4, %o0
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/strchr.S dietlibc-0.30-execstack/sparc/strchr.S
--- dietlibc-0.30/sparc/strchr.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/strchr.S	2006-09-07 12:24:13.099172500 +0200
@@ -22,3 +22,7 @@ strchr:
 .Lfound:
 	retl
 	nop
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/strcmp.S dietlibc-0.30-execstack/sparc/strcmp.S
--- dietlibc-0.30/sparc/strcmp.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/strcmp.S	2006-09-07 12:24:13.103172750 +0200
@@ -24,3 +24,7 @@ strcmp:
 .Lret:
 	retl
 	sub %o2, %o3, %o0
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/strcpy.S dietlibc-0.30-execstack/sparc/strcpy.S
--- dietlibc-0.30/sparc/strcpy.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/strcpy.S	2006-09-07 12:24:13.103172750 +0200
@@ -21,3 +21,7 @@ strcpy:
 	inc %o2
 	retl
 	nop
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/strlen.S dietlibc-0.30-execstack/sparc/strlen.S
--- dietlibc-0.30/sparc/strlen.S	2002-07-26 20:44:33.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/strlen.S	2006-09-07 12:24:13.099172500 +0200
@@ -9,3 +9,7 @@ strlen:
     add  %o0, 1, %o0
     retl
     sub  %o0, %o1, %o0
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/strncmp.S dietlibc-0.30-execstack/sparc/strncmp.S
--- dietlibc-0.30/sparc/strncmp.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/strncmp.S	2006-09-07 12:24:13.103172750 +0200
@@ -27,3 +27,7 @@ strncmp:
 .Lret:
 	retl
 	sub %o3, %o4, %o0
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/strncpy.S dietlibc-0.30-execstack/sparc/strncpy.S
--- dietlibc-0.30/sparc/strncpy.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/strncpy.S	2006-09-07 12:24:13.103172750 +0200
@@ -25,3 +25,7 @@ strncpy:
 .Lret:
 	retl
 	nop
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/strstr.S dietlibc-0.30-execstack/sparc/strstr.S
--- dietlibc-0.30/sparc/strstr.S	2003-09-04 03:50:50.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/strstr.S	2006-09-07 12:24:13.099172500 +0200
@@ -36,3 +36,7 @@ strstr:
 .Lret:
 	retl
 	nop
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/__testandset.S dietlibc-0.30-execstack/sparc/__testandset.S
--- dietlibc-0.30/sparc/__testandset.S	2001-03-23 19:53:28.000000000 +0100
+++ dietlibc-0.30-execstack/sparc/__testandset.S	2006-09-07 12:24:13.099172500 +0200
@@ -4,3 +4,7 @@
 __testandset:
 	retl
 	ldstub	[%o0], %o0
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/udiv.S dietlibc-0.30-execstack/sparc/udiv.S
--- dietlibc-0.30/sparc/udiv.S	2003-02-18 22:11:48.000000000 +0100
+++ dietlibc-0.30-execstack/sparc/udiv.S	2006-09-07 12:24:13.099172500 +0200
@@ -359,3 +359,7 @@ ENTRY(.udiv)
 END(.udiv)
 
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/umul.S dietlibc-0.30-execstack/sparc/umul.S
--- dietlibc-0.30/sparc/umul.S	2003-02-18 22:11:48.000000000 +0100
+++ dietlibc-0.30-execstack/sparc/umul.S	2006-09-07 12:24:13.099172500 +0200
@@ -166,3 +166,7 @@ ENTRY(.umul)
 
 END(.umul)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/unified.S dietlibc-0.30-execstack/sparc/unified.S
--- dietlibc-0.30/sparc/unified.S	2003-08-20 16:13:41.000000000 +0200
+++ dietlibc-0.30-execstack/sparc/unified.S	2006-09-07 12:24:13.099172500 +0200
@@ -34,3 +34,7 @@ __unified_syscall_error_handler:
 	ret
 	restore %g0, -1, %o0
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc/urem.S dietlibc-0.30-execstack/sparc/urem.S
--- dietlibc-0.30/sparc/urem.S	2003-02-18 22:11:48.000000000 +0100
+++ dietlibc-0.30-execstack/sparc/urem.S	2006-09-07 12:24:13.103172750 +0200
@@ -358,3 +358,7 @@ ENTRY(.urem)
 
 END(.urem)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc64/clone.S dietlibc-0.30-execstack/sparc64/clone.S
--- dietlibc-0.30/sparc64/clone.S	2002-03-21 17:06:58.000000000 +0100
+++ dietlibc-0.30-execstack/sparc64/clone.S	2006-09-07 12:24:13.099172500 +0200
@@ -42,3 +42,7 @@ __clone:
 	call	_exit		/* child returned */
 	nop
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc64/errlist.S dietlibc-0.30-execstack/sparc64/errlist.S
--- dietlibc-0.30/sparc64/errlist.S	2005-05-20 14:18:04.000000000 +0200
+++ dietlibc-0.30-execstack/sparc64/errlist.S	2006-09-07 12:24:13.099172500 +0200
@@ -278,3 +278,7 @@ sys_nerr:
 .LC126: .string "Wrong medium type"
 
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc64/fork.S dietlibc-0.30-execstack/sparc64/fork.S
--- dietlibc-0.30/sparc64/fork.S	2003-05-15 17:17:10.000000000 +0200
+++ dietlibc-0.30-execstack/sparc64/fork.S	2006-09-07 12:24:13.099172500 +0200
@@ -16,3 +16,7 @@ __libc_fork:
 1:	sethi	%hi(__unified_syscall_error_handler), %g1
 	jmp	%g1+%lo(__unified_syscall_error_handler)
 	nop
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc64/__longjmp.S dietlibc-0.30-execstack/sparc64/__longjmp.S
--- dietlibc-0.30/sparc64/__longjmp.S	2002-03-26 14:07:38.000000000 +0100
+++ dietlibc-0.30-execstack/sparc64/__longjmp.S	2006-09-07 12:24:13.099172500 +0200
@@ -1 +1,5 @@
 /* none ! all done in longjmp.S */
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc64/longjmp.S dietlibc-0.30-execstack/sparc64/longjmp.S
--- dietlibc-0.30/sparc64/longjmp.S	2002-09-16 13:17:02.000000000 +0200
+++ dietlibc-0.30-execstack/sparc64/longjmp.S	2006-09-07 12:24:13.099172500 +0200
@@ -15,3 +15,7 @@ __libc_longjmp:
 	ld	[ %o0+FLAG_SAVEMASK ], %o1	/* has setjmp saved the signalmask ? */
 	ta	0x6f				/* setcontext / restore context */
 .size	__libc_longjmp,.-__libc_longjmp
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc64/pipe.S dietlibc-0.30-execstack/sparc64/pipe.S
--- dietlibc-0.30/sparc64/pipe.S	2003-05-15 17:17:10.000000000 +0200
+++ dietlibc-0.30-execstack/sparc64/pipe.S	2006-09-07 12:24:13.099172500 +0200
@@ -16,3 +16,7 @@ pipe:
 1:	sethi	%hi(__unified_syscall_error_handler), %g1
 	jmp	%g1+%lo(__unified_syscall_error_handler)
 	nop
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc64/setjmp.S dietlibc-0.30-execstack/sparc64/setjmp.S
--- dietlibc-0.30/sparc64/setjmp.S	2002-03-26 14:07:38.000000000 +0100
+++ dietlibc-0.30-execstack/sparc64/setjmp.S	2006-09-07 12:24:13.099172500 +0200
@@ -25,3 +25,7 @@ __sigsetjmp:
 	mov	%g1, %o0			/* return value from longjmp or 0 */
 .size __sigsetjmp,.-__sigsetjmp
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc64/sigjmp.S dietlibc-0.30-execstack/sparc64/sigjmp.S
--- dietlibc-0.30/sparc64/sigjmp.S	2002-03-26 14:07:38.000000000 +0100
+++ dietlibc-0.30-execstack/sparc64/sigjmp.S	2006-09-07 12:24:13.099172500 +0200
@@ -1 +1,5 @@
 /* none ! all done in setjmp.S */
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc64/start.S dietlibc-0.30-execstack/sparc64/start.S
--- dietlibc-0.30/sparc64/start.S	2006-04-04 07:35:14.000000000 +0200
+++ dietlibc-0.30-execstack/sparc64/start.S	2006-09-07 12:24:13.099172500 +0200
@@ -47,3 +47,7 @@ _start:
 
 	.size _start, .-_start
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc64/__testandset.S dietlibc-0.30-execstack/sparc64/__testandset.S
--- dietlibc-0.30/sparc64/__testandset.S	2002-03-21 17:06:58.000000000 +0100
+++ dietlibc-0.30-execstack/sparc64/__testandset.S	2006-09-07 12:24:13.099172500 +0200
@@ -4,3 +4,7 @@
 __testandset:
 	retl
 	ldstub	[%o0], %o0
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/sparc64/unified.S dietlibc-0.30-execstack/sparc64/unified.S
--- dietlibc-0.30/sparc64/unified.S	2003-08-20 16:13:41.000000000 +0200
+++ dietlibc-0.30-execstack/sparc64/unified.S	2006-09-07 12:24:13.099172500 +0200
@@ -35,3 +35,7 @@ __unified_syscall_error_handler:
 	ret
 	restore %g0, -1, %o0	/* return -1 */
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/access.S dietlibc-0.30-execstack/syscalls.s/access.S
--- dietlibc-0.30/syscalls.s/access.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/access.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(access,access)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/add_key.S dietlibc-0.30-execstack/syscalls.s/add_key.S
--- dietlibc-0.30/syscalls.s/add_key.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/add_key.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(add_key,add_key)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/adjtimex.S dietlibc-0.30-execstack/syscalls.s/adjtimex.S
--- dietlibc-0.30/syscalls.s/adjtimex.S	2001-08-25 20:54:37.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/adjtimex.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(adjtimex,adjtimex)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/alarm.S dietlibc-0.30-execstack/syscalls.s/alarm.S
--- dietlibc-0.30/syscalls.s/alarm.S	2003-10-10 15:37:34.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/alarm.S	2006-09-07 12:24:13.139175000 +0200
@@ -4,3 +4,7 @@
 syscall(alarm,alarm)
 #endif
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/bdflush.S dietlibc-0.30-execstack/syscalls.s/bdflush.S
--- dietlibc-0.30/syscalls.s/bdflush.S	2002-11-11 17:51:46.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/bdflush.S	2006-09-07 12:24:13.127174250 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_bdflush
 syscall(bdflush,bdflush)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/brk.S dietlibc-0.30-execstack/syscalls.s/brk.S
--- dietlibc-0.30/syscalls.s/brk.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/brk.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(brk,__diet_brk)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/capget.S dietlibc-0.30-execstack/syscalls.s/capget.S
--- dietlibc-0.30/syscalls.s/capget.S	2003-10-07 16:39:44.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/capget.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(capget,capget)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/capset.S dietlibc-0.30-execstack/syscalls.s/capset.S
--- dietlibc-0.30/syscalls.s/capset.S	2003-10-07 16:39:44.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/capset.S	2006-09-07 12:24:13.127174250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(capset,capset)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/chdir.S dietlibc-0.30-execstack/syscalls.s/chdir.S
--- dietlibc-0.30/syscalls.s/chdir.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/chdir.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(chdir,chdir)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/chmod.S dietlibc-0.30-execstack/syscalls.s/chmod.S
--- dietlibc-0.30/syscalls.s/chmod.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/chmod.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(chmod,chmod)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/chown32.S dietlibc-0.30-execstack/syscalls.s/chown32.S
--- dietlibc-0.30/syscalls.s/chown32.S	2001-09-04 01:35:15.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/chown32.S	2006-09-07 12:24:13.127174250 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_chown32
 syscall_weak(chown32,chown32,__libc_chown32)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/chown.S dietlibc-0.30-execstack/syscalls.s/chown.S
--- dietlibc-0.30/syscalls.s/chown.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/chown.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(chown,chown)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/chroot.S dietlibc-0.30-execstack/syscalls.s/chroot.S
--- dietlibc-0.30/syscalls.s/chroot.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/chroot.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(chroot,chroot)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/clock_getres.S dietlibc-0.30-execstack/syscalls.s/clock_getres.S
--- dietlibc-0.30/syscalls.s/clock_getres.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/clock_getres.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(clock_getres,clock_getres)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/clock_gettime.S dietlibc-0.30-execstack/syscalls.s/clock_gettime.S
--- dietlibc-0.30/syscalls.s/clock_gettime.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/clock_gettime.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(clock_gettime,clock_gettime)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/clock_nanosleep.S dietlibc-0.30-execstack/syscalls.s/clock_nanosleep.S
--- dietlibc-0.30/syscalls.s/clock_nanosleep.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/clock_nanosleep.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(clock_nanosleep,clock_nanosleep)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/clock_settime.S dietlibc-0.30-execstack/syscalls.s/clock_settime.S
--- dietlibc-0.30/syscalls.s/clock_settime.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/clock_settime.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(clock_settime,clock_settime)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/close.S dietlibc-0.30-execstack/syscalls.s/close.S
--- dietlibc-0.30/syscalls.s/close.S	2001-01-30 15:46:53.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/close.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(close,close,__libc_close)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/create_module.S dietlibc-0.30-execstack/syscalls.s/create_module.S
--- dietlibc-0.30/syscalls.s/create_module.S	2001-09-28 21:44:22.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/create_module.S	2006-09-07 12:24:13.131174500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_create_module
 syscall(create_module,create_module)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/delete_module.S dietlibc-0.30-execstack/syscalls.s/delete_module.S
--- dietlibc-0.30/syscalls.s/delete_module.S	2001-09-28 21:44:22.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/delete_module.S	2006-09-07 12:24:13.131174500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_delete_module
 syscall(delete_module,delete_module)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/dup2.S dietlibc-0.30-execstack/syscalls.s/dup2.S
--- dietlibc-0.30/syscalls.s/dup2.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/dup2.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(dup2,dup2)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/dup.S dietlibc-0.30-execstack/syscalls.s/dup.S
--- dietlibc-0.30/syscalls.s/dup.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/dup.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(dup,dup)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/environ.S dietlibc-0.30-execstack/syscalls.s/environ.S
--- dietlibc-0.30/syscalls.s/environ.S	2004-09-28 02:01:30.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/environ.S	2006-09-07 12:24:13.135174750 +0200
@@ -15,3 +15,7 @@ environ:
 #endif
 .size environ,.-environ
 .size __environ,.-__environ
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/epoll_create.S dietlibc-0.30-execstack/syscalls.s/epoll_create.S
--- dietlibc-0.30/syscalls.s/epoll_create.S	2003-04-12 17:19:01.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/epoll_create.S	2006-09-07 12:24:13.139175000 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_epoll_create
 syscall(epoll_create,epoll_create)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/epoll_ctl.S dietlibc-0.30-execstack/syscalls.s/epoll_ctl.S
--- dietlibc-0.30/syscalls.s/epoll_ctl.S	2003-04-12 17:19:01.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/epoll_ctl.S	2006-09-07 12:24:13.151175750 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_epoll_ctl
 syscall(epoll_ctl,epoll_ctl)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/epoll_wait.S dietlibc-0.30-execstack/syscalls.s/epoll_wait.S
--- dietlibc-0.30/syscalls.s/epoll_wait.S	2003-04-12 17:19:01.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/epoll_wait.S	2006-09-07 12:24:13.139175000 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_epoll_wait
 syscall(epoll_wait,epoll_wait)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/errlist.S dietlibc-0.30-execstack/syscalls.s/errlist.S
--- dietlibc-0.30/syscalls.s/errlist.S	2005-05-15 01:35:39.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/errlist.S	2006-09-07 12:24:13.127174250 +0200
@@ -301,3 +301,7 @@ sys_nerr:
 .LC127:	.asciz	"Key has expired"
 .LC128:	.asciz	"Key has been revoked"
 .LC129:	.asciz	"Key was rejected by service"
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/errno.S dietlibc-0.30-execstack/syscalls.s/errno.S
--- dietlibc-0.30/syscalls.s/errno.S	2002-11-15 16:39:17.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/errno.S	2006-09-07 12:24:13.127174250 +0200
@@ -6,3 +6,7 @@
 errno:
 	.long 0
 .size errno,.-errno
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/execve.S dietlibc-0.30-execstack/syscalls.s/execve.S
--- dietlibc-0.30/syscalls.s/execve.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/execve.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(execve,execve)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/fadvise64_64.S dietlibc-0.30-execstack/syscalls.s/fadvise64_64.S
--- dietlibc-0.30/syscalls.s/fadvise64_64.S	2005-10-08 23:11:32.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/fadvise64_64.S	2006-09-07 12:24:13.163176500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_fadvise64_64
 syscall(fadvise64_64,fadvise64_64)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/fadvise64.S dietlibc-0.30-execstack/syscalls.s/fadvise64.S
--- dietlibc-0.30/syscalls.s/fadvise64.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/fadvise64.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(fadvise64,fadvise64)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/fchdir.S dietlibc-0.30-execstack/syscalls.s/fchdir.S
--- dietlibc-0.30/syscalls.s/fchdir.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/fchdir.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(fchdir,fchdir)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/fchmod.S dietlibc-0.30-execstack/syscalls.s/fchmod.S
--- dietlibc-0.30/syscalls.s/fchmod.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/fchmod.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(fchmod,fchmod)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/fchown32.S dietlibc-0.30-execstack/syscalls.s/fchown32.S
--- dietlibc-0.30/syscalls.s/fchown32.S	2001-09-04 01:35:15.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/fchown32.S	2006-09-07 12:24:13.163176500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_fchown32
 syscall_weak(fchown32,fchown32,__libc_fchown32)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/fchown.S dietlibc-0.30-execstack/syscalls.s/fchown.S
--- dietlibc-0.30/syscalls.s/fchown.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/fchown.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(fchown,fchown)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/fcntl64.S dietlibc-0.30-execstack/syscalls.s/fcntl64.S
--- dietlibc-0.30/syscalls.s/fcntl64.S	2005-08-05 19:58:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/fcntl64.S	2006-09-07 12:24:13.163176500 +0200
@@ -8,3 +8,7 @@ syscall(fcntl64,__dietlibc_fcntl64)
 syscall(fcntl64,fcntl64)
 #endif
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/fcntl.S dietlibc-0.30-execstack/syscalls.s/fcntl.S
--- dietlibc-0.30/syscalls.s/fcntl.S	2001-01-30 15:46:53.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/fcntl.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(fcntl,fcntl,__libc_fcntl)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/fdatasync.S dietlibc-0.30-execstack/syscalls.s/fdatasync.S
--- dietlibc-0.30/syscalls.s/fdatasync.S	2002-02-21 01:33:37.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/fdatasync.S	2006-09-07 12:24:13.167176750 +0200
@@ -4,3 +4,7 @@
 #define __NR_fdatasync __NR_fsync
 #endif
 syscall_weak(fdatasync,fdatasync,__libc_fdatasync)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/fgetxattr.S dietlibc-0.30-execstack/syscalls.s/fgetxattr.S
--- dietlibc-0.30/syscalls.s/fgetxattr.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/fgetxattr.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,2 +1,6 @@
 #include "syscalls.h"
 syscall(fgetxattr,fgetxattr)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/flistxattr.S dietlibc-0.30-execstack/syscalls.s/flistxattr.S
--- dietlibc-0.30/syscalls.s/flistxattr.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/flistxattr.S	2006-09-07 12:24:13.151175750 +0200
@@ -1,2 +1,6 @@
 #include "syscalls.h"
 syscall(flistxattr,flistxattr)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/flock.S dietlibc-0.30-execstack/syscalls.s/flock.S
--- dietlibc-0.30/syscalls.s/flock.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/flock.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(flock,flock)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/fork.S dietlibc-0.30-execstack/syscalls.s/fork.S
--- dietlibc-0.30/syscalls.s/fork.S	2001-01-30 15:46:53.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/fork.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(fork,fork,__libc_fork)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/fremovexattr.S dietlibc-0.30-execstack/syscalls.s/fremovexattr.S
--- dietlibc-0.30/syscalls.s/fremovexattr.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/fremovexattr.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,2 +1,6 @@
 #include "syscalls.h"
 syscall(fremovexattr,fremovexattr)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/fsetxattr.S dietlibc-0.30-execstack/syscalls.s/fsetxattr.S
--- dietlibc-0.30/syscalls.s/fsetxattr.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/fsetxattr.S	2006-09-07 12:24:13.167176750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(fsetxattr,fsetxattr)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/fstat64.S dietlibc-0.30-execstack/syscalls.s/fstat64.S
--- dietlibc-0.30/syscalls.s/fstat64.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/fstat64.S	2006-09-07 12:24:13.131174500 +0200
@@ -8,3 +8,7 @@ syscall(fstat64,__dietlibc_fstat64)
 syscall(fstat64,fstat64)
 #endif
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/fstatfs64.S dietlibc-0.30-execstack/syscalls.s/fstatfs64.S
--- dietlibc-0.30/syscalls.s/fstatfs64.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/fstatfs64.S	2006-09-07 12:24:13.155176000 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_fstatfs64
 syscall(fstatfs64,__dietlibc_fstatfs64)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/fstatfs.S dietlibc-0.30-execstack/syscalls.s/fstatfs.S
--- dietlibc-0.30/syscalls.s/fstatfs.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/fstatfs.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(fstatfs,fstatfs)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/fstat.S dietlibc-0.30-execstack/syscalls.s/fstat.S
--- dietlibc-0.30/syscalls.s/fstat.S	2001-02-03 01:37:00.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/fstat.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(fstat,fstat)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/fsync.S dietlibc-0.30-execstack/syscalls.s/fsync.S
--- dietlibc-0.30/syscalls.s/fsync.S	2001-01-30 16:33:27.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/fsync.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(fsync,fsync,__libc_fsync)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/ftruncate64.S dietlibc-0.30-execstack/syscalls.s/ftruncate64.S
--- dietlibc-0.30/syscalls.s/ftruncate64.S	2002-05-05 23:44:08.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/ftruncate64.S	2006-09-07 12:24:13.163176500 +0200
@@ -8,3 +8,7 @@ syscall(ftruncate64,__dietlibc_ftruncate
 syscall(ftruncate64,ftruncate64)
 #endif
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/ftruncate.S dietlibc-0.30-execstack/syscalls.s/ftruncate.S
--- dietlibc-0.30/syscalls.s/ftruncate.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/ftruncate.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(ftruncate,ftruncate)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/futex.S dietlibc-0.30-execstack/syscalls.s/futex.S
--- dietlibc-0.30/syscalls.s/futex.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/futex.S	2006-09-07 12:24:13.127174250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(futex,futex)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getcwd.S dietlibc-0.30-execstack/syscalls.s/getcwd.S
--- dietlibc-0.30/syscalls.s/getcwd.S	2001-05-09 03:16:05.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/getcwd.S	2006-09-07 12:24:13.127174250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getcwd,__syscall_getcwd)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getdents64.S dietlibc-0.30-execstack/syscalls.s/getdents64.S
--- dietlibc-0.30/syscalls.s/getdents64.S	2002-11-08 18:07:09.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/getdents64.S	2006-09-07 12:24:13.127174250 +0200
@@ -4,3 +4,7 @@
 #ifdef __NR_getdents64
 syscall(getdents64,getdents64)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getdents.S dietlibc-0.30-execstack/syscalls.s/getdents.S
--- dietlibc-0.30/syscalls.s/getdents.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/getdents.S	2006-09-07 12:24:13.127174250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getdents,getdents)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getegid32.S dietlibc-0.30-execstack/syscalls.s/getegid32.S
--- dietlibc-0.30/syscalls.s/getegid32.S	2001-09-04 01:35:15.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/getegid32.S	2006-09-07 12:24:13.131174500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_getegid32
 syscall_weak(getegid32,getegid32,__libc_getegid32)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getegid.S dietlibc-0.30-execstack/syscalls.s/getegid.S
--- dietlibc-0.30/syscalls.s/getegid.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/getegid.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getegid,getegid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/geteuid32.S dietlibc-0.30-execstack/syscalls.s/geteuid32.S
--- dietlibc-0.30/syscalls.s/geteuid32.S	2001-09-04 01:35:15.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/geteuid32.S	2006-09-07 12:24:13.127174250 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_geteuid32
 syscall_weak(geteuid32,geteuid32,__libc_geteuid32)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/geteuid.S dietlibc-0.30-execstack/syscalls.s/geteuid.S
--- dietlibc-0.30/syscalls.s/geteuid.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/geteuid.S	2006-09-07 12:24:13.151175750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(geteuid,geteuid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getgid32.S dietlibc-0.30-execstack/syscalls.s/getgid32.S
--- dietlibc-0.30/syscalls.s/getgid32.S	2001-09-04 01:35:15.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/getgid32.S	2006-09-07 12:24:13.131174500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_getgid32
 syscall_weak(getgid32,getgid32,__libc_getgid32)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getgid.S dietlibc-0.30-execstack/syscalls.s/getgid.S
--- dietlibc-0.30/syscalls.s/getgid.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/getgid.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getgid,getgid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getgroups32.S dietlibc-0.30-execstack/syscalls.s/getgroups32.S
--- dietlibc-0.30/syscalls.s/getgroups32.S	2001-09-04 01:35:15.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/getgroups32.S	2006-09-07 12:24:13.143175250 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_getgroups32
 syscall_weak(getgroups32,getgroups32,__libc_getgroups32)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getgroups.S dietlibc-0.30-execstack/syscalls.s/getgroups.S
--- dietlibc-0.30/syscalls.s/getgroups.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/getgroups.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getgroups,getgroups)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getitimer.S dietlibc-0.30-execstack/syscalls.s/getitimer.S
--- dietlibc-0.30/syscalls.s/getitimer.S	2001-03-14 16:22:21.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/getitimer.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getitimer,getitimer)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/get_mempolicy.S dietlibc-0.30-execstack/syscalls.s/get_mempolicy.S
--- dietlibc-0.30/syscalls.s/get_mempolicy.S	2005-10-08 23:22:09.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/get_mempolicy.S	2006-09-07 12:24:13.139175000 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_get_mempolicy
 syscall(get_mempolicy,get_mempolicy)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/__getpagesize.S dietlibc-0.30-execstack/syscalls.s/__getpagesize.S
--- dietlibc-0.30/syscalls.s/__getpagesize.S	2001-04-19 19:46:38.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/__getpagesize.S	2006-09-07 12:24:13.139175000 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_getpagesize
 syscall(getpagesize,getpagesize)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getpgid.S dietlibc-0.30-execstack/syscalls.s/getpgid.S
--- dietlibc-0.30/syscalls.s/getpgid.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/getpgid.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getpgid,getpgid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getpid.S dietlibc-0.30-execstack/syscalls.s/getpid.S
--- dietlibc-0.30/syscalls.s/getpid.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/getpid.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getpid,getpid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getppid.S dietlibc-0.30-execstack/syscalls.s/getppid.S
--- dietlibc-0.30/syscalls.s/getppid.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/getppid.S	2006-09-07 12:24:13.151175750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getppid,getppid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getpriority.S dietlibc-0.30-execstack/syscalls.s/getpriority.S
--- dietlibc-0.30/syscalls.s/getpriority.S	2001-01-25 13:48:03.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/getpriority.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getpriority,getpriority)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getresgid32.S dietlibc-0.30-execstack/syscalls.s/getresgid32.S
--- dietlibc-0.30/syscalls.s/getresgid32.S	2001-09-04 01:35:15.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/getresgid32.S	2006-09-07 12:24:13.131174500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_getresgid32
 syscall_weak(getresgid32,getresgid32,__libc_getresgid32)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getresgid.S dietlibc-0.30-execstack/syscalls.s/getresgid.S
--- dietlibc-0.30/syscalls.s/getresgid.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/getresgid.S	2006-09-07 12:24:13.163176500 +0200
@@ -5,3 +5,7 @@
 syscall(getresgid,getresgid)
 
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getresuid.S dietlibc-0.30-execstack/syscalls.s/getresuid.S
--- dietlibc-0.30/syscalls.s/getresuid.S	2001-05-31 21:35:04.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/getresuid.S	2006-09-07 12:24:13.127174250 +0200
@@ -5,3 +5,7 @@
 syscall(getresuid,getresuid)
 
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getrlimit.S dietlibc-0.30-execstack/syscalls.s/getrlimit.S
--- dietlibc-0.30/syscalls.s/getrlimit.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/getrlimit.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getrlimit,getrlimit)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getrusage.S dietlibc-0.30-execstack/syscalls.s/getrusage.S
--- dietlibc-0.30/syscalls.s/getrusage.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/getrusage.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getrusage,getrusage)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getsid.S dietlibc-0.30-execstack/syscalls.s/getsid.S
--- dietlibc-0.30/syscalls.s/getsid.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/getsid.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getsid,getsid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/get_thread_area.S dietlibc-0.30-execstack/syscalls.s/get_thread_area.S
--- dietlibc-0.30/syscalls.s/get_thread_area.S	2005-10-08 23:22:09.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/get_thread_area.S	2006-09-07 12:24:13.131174500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_get_thread_area
 syscall(get_thread_area,get_thread_area)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/gettid.S dietlibc-0.30-execstack/syscalls.s/gettid.S
--- dietlibc-0.30/syscalls.s/gettid.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/gettid.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(gettid,gettid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/gettimeofday.S dietlibc-0.30-execstack/syscalls.s/gettimeofday.S
--- dietlibc-0.30/syscalls.s/gettimeofday.S	2001-01-09 18:57:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/gettimeofday.S	2006-09-07 12:24:13.127174250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(gettimeofday,gettimeofday)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getuid32.S dietlibc-0.30-execstack/syscalls.s/getuid32.S
--- dietlibc-0.30/syscalls.s/getuid32.S	2001-09-04 01:35:15.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/getuid32.S	2006-09-07 12:24:13.127174250 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_getuid32
 syscall_weak(getuid32,getuid32,__libc_getuid32)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getuid.S dietlibc-0.30-execstack/syscalls.s/getuid.S
--- dietlibc-0.30/syscalls.s/getuid.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/getuid.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getuid,getuid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/getxattr.S dietlibc-0.30-execstack/syscalls.s/getxattr.S
--- dietlibc-0.30/syscalls.s/getxattr.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/getxattr.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,2 +1,6 @@
 #include "syscalls.h"
 syscall(getxattr,getxattr)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/__guard.S dietlibc-0.30-execstack/syscalls.s/__guard.S
--- dietlibc-0.30/syscalls.s/__guard.S	2006-04-07 17:33:20.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/__guard.S	2006-09-07 12:24:13.155176000 +0200
@@ -7,3 +7,7 @@ __guard:
 __stack_chk_guard:
 .long 0xaff00
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/init_module.S dietlibc-0.30-execstack/syscalls.s/init_module.S
--- dietlibc-0.30/syscalls.s/init_module.S	2001-09-28 21:44:22.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/init_module.S	2006-09-07 12:24:13.163176500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_init_module
 syscall(init_module,init_module)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/inotify_add_watch.S dietlibc-0.30-execstack/syscalls.s/inotify_add_watch.S
--- dietlibc-0.30/syscalls.s/inotify_add_watch.S	2005-10-08 23:39:53.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/inotify_add_watch.S	2006-09-07 12:24:13.143175250 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_inotify_add_watch
 syscall(inotify_add_watch,inotify_add_watch)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/inotify_init.S dietlibc-0.30-execstack/syscalls.s/inotify_init.S
--- dietlibc-0.30/syscalls.s/inotify_init.S	2005-10-08 23:39:53.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/inotify_init.S	2006-09-07 12:24:13.135174750 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_inotify_init
 syscall(inotify_init,inotify_init)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/inotify_rm_watch.S dietlibc-0.30-execstack/syscalls.s/inotify_rm_watch.S
--- dietlibc-0.30/syscalls.s/inotify_rm_watch.S	2005-10-08 23:39:53.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/inotify_rm_watch.S	2006-09-07 12:24:13.127174250 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_inotify_rm_watch
 syscall(inotify_rm_watch,inotify_rm_watch)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/io_cancel.S dietlibc-0.30-execstack/syscalls.s/io_cancel.S
--- dietlibc-0.30/syscalls.s/io_cancel.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/io_cancel.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(io_cancel,io_cancel)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/ioctl.S dietlibc-0.30-execstack/syscalls.s/ioctl.S
--- dietlibc-0.30/syscalls.s/ioctl.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/ioctl.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(ioctl,ioctl)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/io_destroy.S dietlibc-0.30-execstack/syscalls.s/io_destroy.S
--- dietlibc-0.30/syscalls.s/io_destroy.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/io_destroy.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(io_destroy,io_destroy)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/io_getevents.S dietlibc-0.30-execstack/syscalls.s/io_getevents.S
--- dietlibc-0.30/syscalls.s/io_getevents.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/io_getevents.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(io_getevents,io_getevents)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/ioperm.S dietlibc-0.30-execstack/syscalls.s/ioperm.S
--- dietlibc-0.30/syscalls.s/ioperm.S	2001-05-16 01:56:35.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/ioperm.S	2006-09-07 12:24:13.155176000 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_ioperm
 syscall(ioperm,ioperm)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/iopl.S dietlibc-0.30-execstack/syscalls.s/iopl.S
--- dietlibc-0.30/syscalls.s/iopl.S	2001-04-26 12:30:30.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/iopl.S	2006-09-07 12:24:13.163176500 +0200
@@ -4,3 +4,7 @@
 #ifdef __NR_iopl
 syscall(iopl,iopl)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/io_setup.S dietlibc-0.30-execstack/syscalls.s/io_setup.S
--- dietlibc-0.30/syscalls.s/io_setup.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/io_setup.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(io_setup,io_setup)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/io_submit.S dietlibc-0.30-execstack/syscalls.s/io_submit.S
--- dietlibc-0.30/syscalls.s/io_submit.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/io_submit.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(io_submit,io_submit)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/ipc.S dietlibc-0.30-execstack/syscalls.s/ipc.S
--- dietlibc-0.30/syscalls.s/ipc.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/ipc.S	2006-09-07 12:24:13.139175000 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_ipc
 syscall(ipc,__ipc)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/keyctl.S dietlibc-0.30-execstack/syscalls.s/keyctl.S
--- dietlibc-0.30/syscalls.s/keyctl.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/keyctl.S	2006-09-07 12:24:13.127174250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(keyctl,keyctl)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/kill.S dietlibc-0.30-execstack/syscalls.s/kill.S
--- dietlibc-0.30/syscalls.s/kill.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/kill.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(kill,kill)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/lchown32.S dietlibc-0.30-execstack/syscalls.s/lchown32.S
--- dietlibc-0.30/syscalls.s/lchown32.S	2001-09-04 01:35:15.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/lchown32.S	2006-09-07 12:24:13.155176000 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_lchown32
 syscall_weak(lchown32,lchown32,__libc_lchown32)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/lchown.S dietlibc-0.30-execstack/syscalls.s/lchown.S
--- dietlibc-0.30/syscalls.s/lchown.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/lchown.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(lchown,lchown)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/lgetxattr.S dietlibc-0.30-execstack/syscalls.s/lgetxattr.S
--- dietlibc-0.30/syscalls.s/lgetxattr.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/lgetxattr.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,2 +1,6 @@
 #include "syscalls.h"
 syscall(lgetxattr,lgetxattr)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/link.S dietlibc-0.30-execstack/syscalls.s/link.S
--- dietlibc-0.30/syscalls.s/link.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/link.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(link,link)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/listxattr.S dietlibc-0.30-execstack/syscalls.s/listxattr.S
--- dietlibc-0.30/syscalls.s/listxattr.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/listxattr.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,2 +1,6 @@
 #include "syscalls.h"
 syscall(listxattr,listxattr)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/llistxattr.S dietlibc-0.30-execstack/syscalls.s/llistxattr.S
--- dietlibc-0.30/syscalls.s/llistxattr.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/llistxattr.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,2 +1,6 @@
 #include "syscalls.h"
 syscall(llistxattr,llistxattr)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/_llseek.S dietlibc-0.30-execstack/syscalls.s/_llseek.S
--- dietlibc-0.30/syscalls.s/_llseek.S	2004-04-29 16:37:25.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/_llseek.S	2006-09-07 12:24:13.139175000 +0200
@@ -6,3 +6,7 @@
 llseek:
 syscall(_llseek,_llseek)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/lremovexattr.S dietlibc-0.30-execstack/syscalls.s/lremovexattr.S
--- dietlibc-0.30/syscalls.s/lremovexattr.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/lremovexattr.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,2 +1,6 @@
 #include "syscalls.h"
 syscall(lremovexattr,lremovexattr)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/lseek.S dietlibc-0.30-execstack/syscalls.s/lseek.S
--- dietlibc-0.30/syscalls.s/lseek.S	2001-01-30 16:33:27.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/lseek.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(lseek,lseek,__libc_lseek)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/lsetxattr.S dietlibc-0.30-execstack/syscalls.s/lsetxattr.S
--- dietlibc-0.30/syscalls.s/lsetxattr.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/lsetxattr.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(lsetxattr,lsetxattr)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/lstat64.S dietlibc-0.30-execstack/syscalls.s/lstat64.S
--- dietlibc-0.30/syscalls.s/lstat64.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/lstat64.S	2006-09-07 12:24:13.155176000 +0200
@@ -8,3 +8,7 @@ syscall(lstat64,__dietlibc_lstat64)
 syscall(lstat64,lstat64)
 #endif
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/lstat.S dietlibc-0.30-execstack/syscalls.s/lstat.S
--- dietlibc-0.30/syscalls.s/lstat.S	2001-02-03 01:37:00.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/lstat.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(lstat,lstat)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/madvise.S dietlibc-0.30-execstack/syscalls.s/madvise.S
--- dietlibc-0.30/syscalls.s/madvise.S	2001-10-22 22:20:53.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/madvise.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(madvise,madvise)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/mbind.S dietlibc-0.30-execstack/syscalls.s/mbind.S
--- dietlibc-0.30/syscalls.s/mbind.S	2005-10-08 23:22:09.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/mbind.S	2006-09-07 12:24:13.163176500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_mbind
 syscall(mbind,mbind)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/mincore.S dietlibc-0.30-execstack/syscalls.s/mincore.S
--- dietlibc-0.30/syscalls.s/mincore.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/mincore.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(mincore,mincore)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/mkdir.S dietlibc-0.30-execstack/syscalls.s/mkdir.S
--- dietlibc-0.30/syscalls.s/mkdir.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/mkdir.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(mkdir,mkdir)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/mknod.S dietlibc-0.30-execstack/syscalls.s/mknod.S
--- dietlibc-0.30/syscalls.s/mknod.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/mknod.S	2006-09-07 12:24:13.167176750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(mknod,mknod)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/mlockall.S dietlibc-0.30-execstack/syscalls.s/mlockall.S
--- dietlibc-0.30/syscalls.s/mlockall.S	2001-05-02 23:06:24.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/mlockall.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(mlockall,mlockall)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/mlock.S dietlibc-0.30-execstack/syscalls.s/mlock.S
--- dietlibc-0.30/syscalls.s/mlock.S	2001-05-31 19:13:09.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/mlock.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(mlock,mlock)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/mmap2.S dietlibc-0.30-execstack/syscalls.s/mmap2.S
--- dietlibc-0.30/syscalls.s/mmap2.S	2002-11-26 01:41:46.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/mmap2.S	2006-09-07 12:24:13.163176500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_mmap2
 syscall(mmap2,__mmap2)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/mmap.S dietlibc-0.30-execstack/syscalls.s/mmap.S
--- dietlibc-0.30/syscalls.s/mmap.S	2003-05-15 17:17:10.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/mmap.S	2006-09-07 12:24:13.167176750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(mmap,mmap)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/mount.S dietlibc-0.30-execstack/syscalls.s/mount.S
--- dietlibc-0.30/syscalls.s/mount.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/mount.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(mount,mount)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/mprotect.S dietlibc-0.30-execstack/syscalls.s/mprotect.S
--- dietlibc-0.30/syscalls.s/mprotect.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/mprotect.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(mprotect,mprotect)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/mq_getsetattr.S dietlibc-0.30-execstack/syscalls.s/mq_getsetattr.S
--- dietlibc-0.30/syscalls.s/mq_getsetattr.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/mq_getsetattr.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(mq_getsetattr,mq_setattr)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/mq_notify.S dietlibc-0.30-execstack/syscalls.s/mq_notify.S
--- dietlibc-0.30/syscalls.s/mq_notify.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/mq_notify.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(mq_notify,mq_notify)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/mq_open.S dietlibc-0.30-execstack/syscalls.s/mq_open.S
--- dietlibc-0.30/syscalls.s/mq_open.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/mq_open.S	2006-09-07 12:24:13.151175750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(mq_open,mq_open)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/mq_timedreceive.S dietlibc-0.30-execstack/syscalls.s/mq_timedreceive.S
--- dietlibc-0.30/syscalls.s/mq_timedreceive.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/mq_timedreceive.S	2006-09-07 12:24:13.127174250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(mq_timedreceive,mq_timedreceive)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/mq_timedsend.S dietlibc-0.30-execstack/syscalls.s/mq_timedsend.S
--- dietlibc-0.30/syscalls.s/mq_timedsend.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/mq_timedsend.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(mq_timedsend,mq_timedsend)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/mq_unlink.S dietlibc-0.30-execstack/syscalls.s/mq_unlink.S
--- dietlibc-0.30/syscalls.s/mq_unlink.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/mq_unlink.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(mq_unlink,mq_unlink)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/mremap.S dietlibc-0.30-execstack/syscalls.s/mremap.S
--- dietlibc-0.30/syscalls.s/mremap.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/mremap.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(mremap,mremap)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/msync.S dietlibc-0.30-execstack/syscalls.s/msync.S
--- dietlibc-0.30/syscalls.s/msync.S	2003-02-12 16:56:06.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/msync.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(msync,msync,__libc_msync)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/munlockall.S dietlibc-0.30-execstack/syscalls.s/munlockall.S
--- dietlibc-0.30/syscalls.s/munlockall.S	2001-05-02 23:06:24.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/munlockall.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(munlockall,munlockall)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/munlock.S dietlibc-0.30-execstack/syscalls.s/munlock.S
--- dietlibc-0.30/syscalls.s/munlock.S	2002-08-14 15:52:20.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/munlock.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(munlock,munlock)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/munmap.S dietlibc-0.30-execstack/syscalls.s/munmap.S
--- dietlibc-0.30/syscalls.s/munmap.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/munmap.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(munmap,munmap)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/nanosleep.S dietlibc-0.30-execstack/syscalls.s/nanosleep.S
--- dietlibc-0.30/syscalls.s/nanosleep.S	2001-01-30 16:33:27.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/nanosleep.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(nanosleep,nanosleep,__libc_nanosleep)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/nice.S dietlibc-0.30-execstack/syscalls.s/nice.S
--- dietlibc-0.30/syscalls.s/nice.S	2002-11-09 19:23:19.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/nice.S	2006-09-07 12:24:13.131174500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_nice
 syscall(nice,nice)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/n_sigaction.S dietlibc-0.30-execstack/syscalls.s/n_sigaction.S
--- dietlibc-0.30/syscalls.s/n_sigaction.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/n_sigaction.S	2006-09-07 12:24:13.131174500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_sigaction
 syscall_weak(sigaction,__old_sigaction,__n_sigaction)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/n_sigpending.S dietlibc-0.30-execstack/syscalls.s/n_sigpending.S
--- dietlibc-0.30/syscalls.s/n_sigpending.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/n_sigpending.S	2006-09-07 12:24:13.127174250 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_sigpending
 syscall_weak(sigpending,__old_sigpending,__n_sigpending)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/n_sigprocmask.S dietlibc-0.30-execstack/syscalls.s/n_sigprocmask.S
--- dietlibc-0.30/syscalls.s/n_sigprocmask.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/n_sigprocmask.S	2006-09-07 12:24:13.163176500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_sigprocmask
 syscall_weak(sigprocmask,__old_sigprocmask,__n_sigprocmask)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/n_sigsuspend.S dietlibc-0.30-execstack/syscalls.s/n_sigsuspend.S
--- dietlibc-0.30/syscalls.s/n_sigsuspend.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/n_sigsuspend.S	2006-09-07 12:24:13.143175250 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_sigsuspend
 syscall_weak(sigsuspend,__old_sigsuspend,__n_sigsuspend)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/open.S dietlibc-0.30-execstack/syscalls.s/open.S
--- dietlibc-0.30/syscalls.s/open.S	2001-01-30 16:33:27.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/open.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(open,open,__libc_open)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/pause.S dietlibc-0.30-execstack/syscalls.s/pause.S
--- dietlibc-0.30/syscalls.s/pause.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/pause.S	2006-09-07 12:24:13.163176500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_pause
 syscall_weak(pause,pause,__libc_pause)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/personality.S dietlibc-0.30-execstack/syscalls.s/personality.S
--- dietlibc-0.30/syscalls.s/personality.S	2001-04-22 16:30:13.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/personality.S	2006-09-07 12:24:13.155176000 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_personality
 syscall(personality,personality)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/pipe.S dietlibc-0.30-execstack/syscalls.s/pipe.S
--- dietlibc-0.30/syscalls.s/pipe.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/pipe.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(pipe,pipe)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/pivot_root.S dietlibc-0.30-execstack/syscalls.s/pivot_root.S
--- dietlibc-0.30/syscalls.s/pivot_root.S	2001-08-23 20:33:44.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/pivot_root.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(pivot_root,pivot_root)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/poll.S dietlibc-0.30-execstack/syscalls.s/poll.S
--- dietlibc-0.30/syscalls.s/poll.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/poll.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(poll,poll)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/prctl.S dietlibc-0.30-execstack/syscalls.s/prctl.S
--- dietlibc-0.30/syscalls.s/prctl.S	2001-11-13 17:19:36.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/prctl.S	2006-09-07 12:24:13.135174750 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_prctl
 syscall(prctl,prctl)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/__pread.S dietlibc-0.30-execstack/syscalls.s/__pread.S
--- dietlibc-0.30/syscalls.s/__pread.S	2004-05-10 23:05:07.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/__pread.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(pread,pread64,__libc_pread64)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/ptrace.S dietlibc-0.30-execstack/syscalls.s/ptrace.S
--- dietlibc-0.30/syscalls.s/ptrace.S	2002-02-23 16:57:31.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/ptrace.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(ptrace,__diet_ptrace)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/__pwrite.S dietlibc-0.30-execstack/syscalls.s/__pwrite.S
--- dietlibc-0.30/syscalls.s/__pwrite.S	2004-05-10 23:05:07.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/__pwrite.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(pwrite,pwrite64,__libc_pwrite64)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/query_module.S dietlibc-0.30-execstack/syscalls.s/query_module.S
--- dietlibc-0.30/syscalls.s/query_module.S	2001-05-06 02:34:27.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/query_module.S	2006-09-07 12:24:13.143175250 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_query_module
 syscall(query_module,query_module)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/quotactl.S dietlibc-0.30-execstack/syscalls.s/quotactl.S
--- dietlibc-0.30/syscalls.s/quotactl.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/quotactl.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(quotactl,quotactl)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/readahead.S dietlibc-0.30-execstack/syscalls.s/readahead.S
--- dietlibc-0.30/syscalls.s/readahead.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/readahead.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(readahead,readahead)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/readlink.S dietlibc-0.30-execstack/syscalls.s/readlink.S
--- dietlibc-0.30/syscalls.s/readlink.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/readlink.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(readlink,readlink)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/read.S dietlibc-0.30-execstack/syscalls.s/read.S
--- dietlibc-0.30/syscalls.s/read.S	2001-01-30 15:46:53.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/read.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(read,read,__libc_read)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/readv.S dietlibc-0.30-execstack/syscalls.s/readv.S
--- dietlibc-0.30/syscalls.s/readv.S	2001-01-11 16:58:42.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/readv.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(readv,readv)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/__reboot.S dietlibc-0.30-execstack/syscalls.s/__reboot.S
--- dietlibc-0.30/syscalls.s/__reboot.S	2001-02-05 18:49:41.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/__reboot.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(reboot,__reboot)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/remap_file_pages.S dietlibc-0.30-execstack/syscalls.s/remap_file_pages.S
--- dietlibc-0.30/syscalls.s/remap_file_pages.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/remap_file_pages.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(remap_file_pages,remap_file_pages)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/removexattr.S dietlibc-0.30-execstack/syscalls.s/removexattr.S
--- dietlibc-0.30/syscalls.s/removexattr.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/removexattr.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,2 +1,6 @@
 #include "syscalls.h"
 syscall(removexattr,removexattr)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/rename.S dietlibc-0.30-execstack/syscalls.s/rename.S
--- dietlibc-0.30/syscalls.s/rename.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/rename.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(rename,rename)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/request_key.S dietlibc-0.30-execstack/syscalls.s/request_key.S
--- dietlibc-0.30/syscalls.s/request_key.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/request_key.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(request_key,request_key)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/rmdir.S dietlibc-0.30-execstack/syscalls.s/rmdir.S
--- dietlibc-0.30/syscalls.s/rmdir.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/rmdir.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(rmdir,rmdir)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/rt_sigaction.S dietlibc-0.30-execstack/syscalls.s/rt_sigaction.S
--- dietlibc-0.30/syscalls.s/rt_sigaction.S	2001-07-19 22:33:23.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/rt_sigaction.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(rt_sigaction,__rt_sigaction)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/rt_sigpending.S dietlibc-0.30-execstack/syscalls.s/rt_sigpending.S
--- dietlibc-0.30/syscalls.s/rt_sigpending.S	2001-07-19 22:33:23.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/rt_sigpending.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(rt_sigpending,__rt_sigpending)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/rt_sigprocmask.S dietlibc-0.30-execstack/syscalls.s/rt_sigprocmask.S
--- dietlibc-0.30/syscalls.s/rt_sigprocmask.S	2001-07-19 22:33:23.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/rt_sigprocmask.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(rt_sigprocmask,__rt_sigprocmask)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/rt_sigqueueinfo.S dietlibc-0.30-execstack/syscalls.s/rt_sigqueueinfo.S
--- dietlibc-0.30/syscalls.s/rt_sigqueueinfo.S	2001-07-19 22:33:23.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/rt_sigqueueinfo.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(rt_sigqueueinfo,__rt_sigqueueinfo)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/rt_sigreturn.S dietlibc-0.30-execstack/syscalls.s/rt_sigreturn.S
--- dietlibc-0.30/syscalls.s/rt_sigreturn.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/rt_sigreturn.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(rt_sigreturn,rt_sigreturn)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/rt_sigsuspend.S dietlibc-0.30-execstack/syscalls.s/rt_sigsuspend.S
--- dietlibc-0.30/syscalls.s/rt_sigsuspend.S	2001-07-19 22:33:23.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/rt_sigsuspend.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(rt_sigsuspend,__rt_sigsuspend)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/rt_sigtimedwait.S dietlibc-0.30-execstack/syscalls.s/rt_sigtimedwait.S
--- dietlibc-0.30/syscalls.s/rt_sigtimedwait.S	2001-07-19 22:33:23.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/rt_sigtimedwait.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(rt_sigtimedwait,__rt_sigtimedwait)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/sched_getparam.S dietlibc-0.30-execstack/syscalls.s/sched_getparam.S
--- dietlibc-0.30/syscalls.s/sched_getparam.S	2001-01-25 19:13:44.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/sched_getparam.S	2006-09-07 12:24:13.151175750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(sched_getparam,sched_getparam)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/sched_get_priority_max.S dietlibc-0.30-execstack/syscalls.s/sched_get_priority_max.S
--- dietlibc-0.30/syscalls.s/sched_get_priority_max.S	2001-01-25 19:13:44.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/sched_get_priority_max.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(sched_get_priority_max,sched_get_priority_max)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/sched_get_priority_min.S dietlibc-0.30-execstack/syscalls.s/sched_get_priority_min.S
--- dietlibc-0.30/syscalls.s/sched_get_priority_min.S	2001-01-25 19:13:44.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/sched_get_priority_min.S	2006-09-07 12:24:13.127174250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(sched_get_priority_min,sched_get_priority_min)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/sched_getscheduler.S dietlibc-0.30-execstack/syscalls.s/sched_getscheduler.S
--- dietlibc-0.30/syscalls.s/sched_getscheduler.S	2001-01-25 19:13:44.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/sched_getscheduler.S	2006-09-07 12:24:13.151175750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(sched_getscheduler,sched_getscheduler)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/sched_rr_get_interval.S dietlibc-0.30-execstack/syscalls.s/sched_rr_get_interval.S
--- dietlibc-0.30/syscalls.s/sched_rr_get_interval.S	2001-01-25 19:13:44.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/sched_rr_get_interval.S	2006-09-07 12:24:13.127174250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(sched_rr_get_interval,sched_rr_get_interval)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/sched_setparam.S dietlibc-0.30-execstack/syscalls.s/sched_setparam.S
--- dietlibc-0.30/syscalls.s/sched_setparam.S	2001-01-25 19:13:44.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/sched_setparam.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(sched_setparam,sched_setparam)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/sched_setscheduler.S dietlibc-0.30-execstack/syscalls.s/sched_setscheduler.S
--- dietlibc-0.30/syscalls.s/sched_setscheduler.S	2001-01-25 19:13:44.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/sched_setscheduler.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(sched_setscheduler,sched_setscheduler)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/sched_yield.S dietlibc-0.30-execstack/syscalls.s/sched_yield.S
--- dietlibc-0.30/syscalls.s/sched_yield.S	2001-01-25 19:13:44.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/sched_yield.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(sched_yield,sched_yield)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/select.S dietlibc-0.30-execstack/syscalls.s/select.S
--- dietlibc-0.30/syscalls.s/select.S	2005-03-23 20:57:53.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/select.S	2006-09-07 12:24:13.143175250 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_select
 syscall(select,select)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/sendfile64.S dietlibc-0.30-execstack/syscalls.s/sendfile64.S
--- dietlibc-0.30/syscalls.s/sendfile64.S	2003-05-19 13:35:46.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/sendfile64.S	2006-09-07 12:24:13.143175250 +0200
@@ -11,3 +11,7 @@ syscall_weak(sendfile64,sendfile64,__lib
 
 link_warning(sendfile64,"sendfile64 is not portable")
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/sendfile.S dietlibc-0.30-execstack/syscalls.s/sendfile.S
--- dietlibc-0.30/syscalls.s/sendfile.S	2002-11-26 00:37:19.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/sendfile.S	2006-09-07 12:24:13.139175000 +0200
@@ -4,3 +4,7 @@
 syscall_weak(sendfile,sendfile,__libc_sendfile)
 
 link_warning(sendfile,"sendfile is not portable")
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setdomainname.S dietlibc-0.30-execstack/syscalls.s/setdomainname.S
--- dietlibc-0.30/syscalls.s/setdomainname.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/setdomainname.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(setdomainname,setdomainname)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setfsgid32.S dietlibc-0.30-execstack/syscalls.s/setfsgid32.S
--- dietlibc-0.30/syscalls.s/setfsgid32.S	2001-09-04 01:35:16.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/setfsgid32.S	2006-09-07 12:24:13.135174750 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_setfsgid32
 syscall_weak(setfsgid32,setfsgid32,__libc_setfsgid32)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setfsgid.S dietlibc-0.30-execstack/syscalls.s/setfsgid.S
--- dietlibc-0.30/syscalls.s/setfsgid.S	2001-05-18 16:19:22.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/setfsgid.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(setfsgid,setfsgid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setfsuid32.S dietlibc-0.30-execstack/syscalls.s/setfsuid32.S
--- dietlibc-0.30/syscalls.s/setfsuid32.S	2001-09-04 01:35:16.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/setfsuid32.S	2006-09-07 12:24:13.143175250 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_setfsuid32
 syscall_weak(setfsuid32,setfsuid32,__libc_setfsuid32)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setfsuid.S dietlibc-0.30-execstack/syscalls.s/setfsuid.S
--- dietlibc-0.30/syscalls.s/setfsuid.S	2001-05-18 16:19:22.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/setfsuid.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(setfsuid,setfsuid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setgid32.S dietlibc-0.30-execstack/syscalls.s/setgid32.S
--- dietlibc-0.30/syscalls.s/setgid32.S	2001-09-04 01:35:16.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/setgid32.S	2006-09-07 12:24:13.155176000 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_setgid32
 syscall_weak(setgid32,setgid32,__libc_setgid32)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setgid.S dietlibc-0.30-execstack/syscalls.s/setgid.S
--- dietlibc-0.30/syscalls.s/setgid.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/setgid.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(setgid,setgid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setgroups.S dietlibc-0.30-execstack/syscalls.s/setgroups.S
--- dietlibc-0.30/syscalls.s/setgroups.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/setgroups.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(setgroups,setgroups)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/sethostname.S dietlibc-0.30-execstack/syscalls.s/sethostname.S
--- dietlibc-0.30/syscalls.s/sethostname.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/sethostname.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(sethostname,sethostname)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setitimer.S dietlibc-0.30-execstack/syscalls.s/setitimer.S
--- dietlibc-0.30/syscalls.s/setitimer.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/setitimer.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(setitimer,setitimer)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/set_mempolicy.S dietlibc-0.30-execstack/syscalls.s/set_mempolicy.S
--- dietlibc-0.30/syscalls.s/set_mempolicy.S	2005-10-08 23:22:09.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/set_mempolicy.S	2006-09-07 12:24:13.131174500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_set_mempolicy
 syscall(set_mempolicy,set_mempolicy)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setpgid.S dietlibc-0.30-execstack/syscalls.s/setpgid.S
--- dietlibc-0.30/syscalls.s/setpgid.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/setpgid.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(setpgid,setpgid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setpriority.S dietlibc-0.30-execstack/syscalls.s/setpriority.S
--- dietlibc-0.30/syscalls.s/setpriority.S	2001-01-25 13:48:03.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/setpriority.S	2006-09-07 12:24:13.167176750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(setpriority,setpriority)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setregid32.S dietlibc-0.30-execstack/syscalls.s/setregid32.S
--- dietlibc-0.30/syscalls.s/setregid32.S	2001-09-04 01:35:16.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/setregid32.S	2006-09-07 12:24:13.143175250 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_setregid32
 syscall_weak(setregid32,setregid32,__libc_setregid32)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setregid.S dietlibc-0.30-execstack/syscalls.s/setregid.S
--- dietlibc-0.30/syscalls.s/setregid.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/setregid.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(setregid,setregid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setresgid32.S dietlibc-0.30-execstack/syscalls.s/setresgid32.S
--- dietlibc-0.30/syscalls.s/setresgid32.S	2001-09-04 01:35:16.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/setresgid32.S	2006-09-07 12:24:13.139175000 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_setresgid32
 syscall_weak(setresgid32,setresgid32,__libc_setresgid32)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setresgid.S dietlibc-0.30-execstack/syscalls.s/setresgid.S
--- dietlibc-0.30/syscalls.s/setresgid.S	2001-05-31 21:32:50.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/setresgid.S	2006-09-07 12:24:13.135174750 +0200
@@ -5,3 +5,7 @@
 syscall(setresgid,setresgid)
 
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setresuid.S dietlibc-0.30-execstack/syscalls.s/setresuid.S
--- dietlibc-0.30/syscalls.s/setresuid.S	2001-05-31 21:32:50.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/setresuid.S	2006-09-07 12:24:13.151175750 +0200
@@ -5,3 +5,7 @@
 syscall(setresuid,setresuid)
 
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setreuid32.S dietlibc-0.30-execstack/syscalls.s/setreuid32.S
--- dietlibc-0.30/syscalls.s/setreuid32.S	2001-09-04 01:35:16.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/setreuid32.S	2006-09-07 12:24:13.135174750 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_setreuid32
 syscall_weak(setreuid32,setreuid32,__libc_setreuid32)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setreuid.S dietlibc-0.30-execstack/syscalls.s/setreuid.S
--- dietlibc-0.30/syscalls.s/setreuid.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/setreuid.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(setreuid,setreuid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setrlimit.S dietlibc-0.30-execstack/syscalls.s/setrlimit.S
--- dietlibc-0.30/syscalls.s/setrlimit.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/setrlimit.S	2006-09-07 12:24:13.127174250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(setrlimit,setrlimit)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setsid.S dietlibc-0.30-execstack/syscalls.s/setsid.S
--- dietlibc-0.30/syscalls.s/setsid.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/setsid.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(setsid,setsid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/set_thread_area.S dietlibc-0.30-execstack/syscalls.s/set_thread_area.S
--- dietlibc-0.30/syscalls.s/set_thread_area.S	2005-10-08 23:22:09.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/set_thread_area.S	2006-09-07 12:24:13.127174250 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_set_thread_area
 syscall(set_thread_area,set_thread_area)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/set_tid_address.S dietlibc-0.30-execstack/syscalls.s/set_tid_address.S
--- dietlibc-0.30/syscalls.s/set_tid_address.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/set_tid_address.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(set_tid_address,set_tid_address)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/settimeofday.S dietlibc-0.30-execstack/syscalls.s/settimeofday.S
--- dietlibc-0.30/syscalls.s/settimeofday.S	2001-08-01 23:34:34.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/settimeofday.S	2006-09-07 12:24:13.151175750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(settimeofday,settimeofday)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setuid32.S dietlibc-0.30-execstack/syscalls.s/setuid32.S
--- dietlibc-0.30/syscalls.s/setuid32.S	2001-09-04 01:35:16.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/setuid32.S	2006-09-07 12:24:13.131174500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_setuid32
 syscall_weak(setuid32,setuid32,__libc_setuid32)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setuid.S dietlibc-0.30-execstack/syscalls.s/setuid.S
--- dietlibc-0.30/syscalls.s/setuid.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/setuid.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(setuid,setuid)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/setxattr.S dietlibc-0.30-execstack/syscalls.s/setxattr.S
--- dietlibc-0.30/syscalls.s/setxattr.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/setxattr.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(setxattr,setxattr)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/sigaltstack.S dietlibc-0.30-execstack/syscalls.s/sigaltstack.S
--- dietlibc-0.30/syscalls.s/sigaltstack.S	2001-01-30 15:46:53.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/sigaltstack.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(sigaltstack,sigaltstack,__sigaltstack)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/socketcall.S dietlibc-0.30-execstack/syscalls.s/socketcall.S
--- dietlibc-0.30/syscalls.s/socketcall.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/socketcall.S	2006-09-07 12:24:13.135174750 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_socketcall
 syscall(socketcall,socketcall)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/stat64.S dietlibc-0.30-execstack/syscalls.s/stat64.S
--- dietlibc-0.30/syscalls.s/stat64.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/stat64.S	2006-09-07 12:24:13.163176500 +0200
@@ -8,3 +8,7 @@ syscall(stat64,__dietlibc_stat64)
 syscall(stat64,stat64)
 #endif
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/statfs64.S dietlibc-0.30-execstack/syscalls.s/statfs64.S
--- dietlibc-0.30/syscalls.s/statfs64.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/statfs64.S	2006-09-07 12:24:13.143175250 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_statfs64
 syscall(statfs64,__dietlibc_statfs64)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/statfs.S dietlibc-0.30-execstack/syscalls.s/statfs.S
--- dietlibc-0.30/syscalls.s/statfs.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/statfs.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(statfs,statfs)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/stat.S dietlibc-0.30-execstack/syscalls.s/stat.S
--- dietlibc-0.30/syscalls.s/stat.S	2001-02-03 01:37:00.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/stat.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(stat,stat)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/stime.S dietlibc-0.30-execstack/syscalls.s/stime.S
--- dietlibc-0.30/syscalls.s/stime.S	2002-08-08 18:30:13.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/stime.S	2006-09-07 12:24:13.139175000 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_stime
 syscall(stime,stime)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/swapoff.S dietlibc-0.30-execstack/syscalls.s/swapoff.S
--- dietlibc-0.30/syscalls.s/swapoff.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/swapoff.S	2006-09-07 12:24:13.127174250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(swapoff,swapoff)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/swapon.S dietlibc-0.30-execstack/syscalls.s/swapon.S
--- dietlibc-0.30/syscalls.s/swapon.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/swapon.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(swapon,swapon)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/symlink.S dietlibc-0.30-execstack/syscalls.s/symlink.S
--- dietlibc-0.30/syscalls.s/symlink.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/symlink.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(symlink,symlink)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/sync.S dietlibc-0.30-execstack/syscalls.s/sync.S
--- dietlibc-0.30/syscalls.s/sync.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/sync.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(sync,sync)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/sysctl.S dietlibc-0.30-execstack/syscalls.s/sysctl.S
--- dietlibc-0.30/syscalls.s/sysctl.S	2003-08-19 17:28:11.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/sysctl.S	2006-09-07 12:24:13.163176500 +0200
@@ -5,3 +5,7 @@ syscall(sysctl,_sysctl)
 #elif (defined(__NR__sysctl))
 syscall(_sysctl,_sysctl)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/sysfs.S dietlibc-0.30-execstack/syscalls.s/sysfs.S
--- dietlibc-0.30/syscalls.s/sysfs.S	2003-09-01 19:18:44.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/sysfs.S	2006-09-07 12:24:13.131174500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_sysfs
 syscall(sysfs,sysfs)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/sysinfo.S dietlibc-0.30-execstack/syscalls.s/sysinfo.S
--- dietlibc-0.30/syscalls.s/sysinfo.S	2001-05-06 02:07:29.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/sysinfo.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(sysinfo,sysinfo)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/syslog.S dietlibc-0.30-execstack/syscalls.s/syslog.S
--- dietlibc-0.30/syscalls.s/syslog.S	2001-08-23 20:33:44.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/syslog.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(syslog,__syscall_syslog,klogctl)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/tgkill.S dietlibc-0.30-execstack/syscalls.s/tgkill.S
--- dietlibc-0.30/syscalls.s/tgkill.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/tgkill.S	2006-09-07 12:24:13.127174250 +0200
@@ -1,2 +1,6 @@
 #include "syscalls.h"
 syscall(tgkill,tgkill)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/timer_create.S dietlibc-0.30-execstack/syscalls.s/timer_create.S
--- dietlibc-0.30/syscalls.s/timer_create.S	2004-04-14 15:13:29.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/timer_create.S	2006-09-07 12:24:13.143175250 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_timer_create
 syscall(timer_create,timer_create)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/timer_delete.S dietlibc-0.30-execstack/syscalls.s/timer_delete.S
--- dietlibc-0.30/syscalls.s/timer_delete.S	2004-04-14 15:13:29.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/timer_delete.S	2006-09-07 12:24:13.155176000 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_timer_delete
 syscall(timer_delete,timer_delete)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/timer_getoverrun.S dietlibc-0.30-execstack/syscalls.s/timer_getoverrun.S
--- dietlibc-0.30/syscalls.s/timer_getoverrun.S	2004-04-14 15:13:29.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/timer_getoverrun.S	2006-09-07 12:24:13.155176000 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_timer_getoverrun
 syscall(timer_getoverrun,timer_getoverrun)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/timer_gettime.S dietlibc-0.30-execstack/syscalls.s/timer_gettime.S
--- dietlibc-0.30/syscalls.s/timer_gettime.S	2004-04-14 15:13:29.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/timer_gettime.S	2006-09-07 12:24:13.135174750 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_timer_gettime
 syscall(timer_gettime,timer_gettime)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/timer_settime.S dietlibc-0.30-execstack/syscalls.s/timer_settime.S
--- dietlibc-0.30/syscalls.s/timer_settime.S	2004-04-14 15:13:29.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/timer_settime.S	2006-09-07 12:24:13.135174750 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_timer_settime
 syscall(timer_settime,timer_settime)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/time.S dietlibc-0.30-execstack/syscalls.s/time.S
--- dietlibc-0.30/syscalls.s/time.S	2002-03-21 17:05:18.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/time.S	2006-09-07 12:24:13.159176250 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_time
 syscall(time,time)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/times.S dietlibc-0.30-execstack/syscalls.s/times.S
--- dietlibc-0.30/syscalls.s/times.S	2001-02-11 22:54:32.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/times.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(times,times)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/tkill.S dietlibc-0.30-execstack/syscalls.s/tkill.S
--- dietlibc-0.30/syscalls.s/tkill.S	2005-10-04 19:47:03.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/tkill.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,2 +1,6 @@
 #include "syscalls.h"
 syscall(tkill,tkill)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/truncate64.S dietlibc-0.30-execstack/syscalls.s/truncate64.S
--- dietlibc-0.30/syscalls.s/truncate64.S	2002-05-05 23:49:30.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/truncate64.S	2006-09-07 12:24:13.143175250 +0200
@@ -8,3 +8,7 @@ syscall(truncate64,__dietlibc_truncate64
 syscall(truncate64,truncate64)
 #endif
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/truncate.S dietlibc-0.30-execstack/syscalls.s/truncate.S
--- dietlibc-0.30/syscalls.s/truncate.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/truncate.S	2006-09-07 12:24:13.163176500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(truncate,truncate)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/umask.S dietlibc-0.30-execstack/syscalls.s/umask.S
--- dietlibc-0.30/syscalls.s/umask.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/umask.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(umask,umask)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/umount2.S dietlibc-0.30-execstack/syscalls.s/umount2.S
--- dietlibc-0.30/syscalls.s/umount2.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/umount2.S	2006-09-07 12:24:13.155176000 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_umount2
 syscall(umount2,umount2)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/umount.S dietlibc-0.30-execstack/syscalls.s/umount.S
--- dietlibc-0.30/syscalls.s/umount.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/umount.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(umount,umount)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/uname.S dietlibc-0.30-execstack/syscalls.s/uname.S
--- dietlibc-0.30/syscalls.s/uname.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/uname.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(uname,uname)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/unlink.S dietlibc-0.30-execstack/syscalls.s/unlink.S
--- dietlibc-0.30/syscalls.s/unlink.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/unlink.S	2006-09-07 12:24:13.139175000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(unlink,unlink)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/ustat.S dietlibc-0.30-execstack/syscalls.s/ustat.S
--- dietlibc-0.30/syscalls.s/ustat.S	2005-07-13 09:31:41.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/ustat.S	2006-09-07 12:24:13.131174500 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(ustat,ustat)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/utime.S dietlibc-0.30-execstack/syscalls.s/utime.S
--- dietlibc-0.30/syscalls.s/utime.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/utime.S	2006-09-07 12:24:13.135174750 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(utime,utime)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/vhangup.S dietlibc-0.30-execstack/syscalls.s/vhangup.S
--- dietlibc-0.30/syscalls.s/vhangup.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/vhangup.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(vhangup,vhangup)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/vserver.S dietlibc-0.30-execstack/syscalls.s/vserver.S
--- dietlibc-0.30/syscalls.s/vserver.S	2005-10-08 23:39:53.000000000 +0200
+++ dietlibc-0.30-execstack/syscalls.s/vserver.S	2006-09-07 12:24:13.139175000 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_vserver
 syscall(vserver,vserver)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/wait4.S dietlibc-0.30-execstack/syscalls.s/wait4.S
--- dietlibc-0.30/syscalls.s/wait4.S	2001-01-09 18:57:49.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/wait4.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(wait4,wait4)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/waitpid.S dietlibc-0.30-execstack/syscalls.s/waitpid.S
--- dietlibc-0.30/syscalls.s/waitpid.S	2002-11-09 19:08:59.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/waitpid.S	2006-09-07 12:24:13.131174500 +0200
@@ -3,3 +3,7 @@
 #ifdef __NR_waitpid
 syscall_weak(waitpid,waitpid,__libc_waitpid)
 #endif
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/write.S dietlibc-0.30-execstack/syscalls.s/write.S
--- dietlibc-0.30/syscalls.s/write.S	2001-01-30 15:46:53.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/write.S	2006-09-07 12:24:13.143175250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall_weak(write,write,__libc_write)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/syscalls.s/writev.S dietlibc-0.30-execstack/syscalls.s/writev.S
--- dietlibc-0.30/syscalls.s/writev.S	2001-01-11 16:58:42.000000000 +0100
+++ dietlibc-0.30-execstack/syscalls.s/writev.S	2006-09-07 12:24:13.155176000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(writev,writev)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/accept.S dietlibc-0.30-execstack/x86_64/accept.S
--- dietlibc-0.30/x86_64/accept.S	2002-08-05 20:08:41.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/accept.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(accept, accept);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/bind.S dietlibc-0.30-execstack/x86_64/bind.S
--- dietlibc-0.30/x86_64/bind.S	2002-08-05 20:08:41.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/bind.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(bind, bind);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/clone.S dietlibc-0.30-execstack/x86_64/clone.S
--- dietlibc-0.30/x86_64/clone.S	2005-01-28 17:04:54.000000000 +0100
+++ dietlibc-0.30-execstack/x86_64/clone.S	2006-09-07 12:24:13.075171000 +0200
@@ -62,3 +62,7 @@ link_warning("clone", "warning: clone() 
 link_warning("__clone", "warning: clone() not yet tested")
 //link_warning("clone", "warning: clone() not yet implemented")
 //link_warning("__clone", "warning: clone() not yet implemented")
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/connect.S dietlibc-0.30-execstack/x86_64/connect.S
--- dietlibc-0.30/x86_64/connect.S	2002-08-05 20:08:41.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/connect.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(connect, connect);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/getpeername.S dietlibc-0.30-execstack/x86_64/getpeername.S
--- dietlibc-0.30/x86_64/getpeername.S	2002-08-05 20:08:41.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/getpeername.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getpeername, getpeername);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/getsockname.S dietlibc-0.30-execstack/x86_64/getsockname.S
--- dietlibc-0.30/x86_64/getsockname.S	2002-08-05 20:08:41.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/getsockname.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getsockname, getsockname);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/getsockopt.S dietlibc-0.30-execstack/x86_64/getsockopt.S
--- dietlibc-0.30/x86_64/getsockopt.S	2002-08-05 20:08:41.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/getsockopt.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(getsockopt, getsockopt);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/gettimeofday.S dietlibc-0.30-execstack/x86_64/gettimeofday.S
--- dietlibc-0.30/x86_64/gettimeofday.S	2005-07-14 21:21:47.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/gettimeofday.S	2006-09-07 12:24:13.075171000 +0200
@@ -16,3 +16,7 @@ gettimeofday:
 	ret
 .Lhere:
 	.size	 gettimeofday,.Lhere-gettimeofday
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/listen.S dietlibc-0.30-execstack/x86_64/listen.S
--- dietlibc-0.30/x86_64/listen.S	2002-08-05 20:08:41.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/listen.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(listen, listen);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/__longjmp.S dietlibc-0.30-execstack/x86_64/__longjmp.S
--- dietlibc-0.30/x86_64/__longjmp.S	2002-08-30 18:40:22.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/__longjmp.S	2006-09-07 12:24:13.079171250 +0200
@@ -24,3 +24,7 @@ __longjmp:
 .size __longjmp,.-__longjmp;
 
 link_warning("__longjmp","longjmp() not yet tested")
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/msgctl.S dietlibc-0.30-execstack/x86_64/msgctl.S
--- dietlibc-0.30/x86_64/msgctl.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/x86_64/msgctl.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(msgctl,msgctl)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/msgget.S dietlibc-0.30-execstack/x86_64/msgget.S
--- dietlibc-0.30/x86_64/msgget.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/x86_64/msgget.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(msgget,msgget)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/msgrcv.S dietlibc-0.30-execstack/x86_64/msgrcv.S
--- dietlibc-0.30/x86_64/msgrcv.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/x86_64/msgrcv.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(msgrcv,msgrcv)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/msgsnd.S dietlibc-0.30-execstack/x86_64/msgsnd.S
--- dietlibc-0.30/x86_64/msgsnd.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/x86_64/msgsnd.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(msgsnd,msgsnd)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/recvfrom.S dietlibc-0.30-execstack/x86_64/recvfrom.S
--- dietlibc-0.30/x86_64/recvfrom.S	2002-08-05 20:08:41.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/recvfrom.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(recvfrom, recvfrom);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/recvmsg.S dietlibc-0.30-execstack/x86_64/recvmsg.S
--- dietlibc-0.30/x86_64/recvmsg.S	2002-08-05 20:08:41.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/recvmsg.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(recvmsg, recvmsg);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/semctl.S dietlibc-0.30-execstack/x86_64/semctl.S
--- dietlibc-0.30/x86_64/semctl.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/x86_64/semctl.S	2006-09-07 12:24:13.079171250 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(semctl,semctl)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/semget.S dietlibc-0.30-execstack/x86_64/semget.S
--- dietlibc-0.30/x86_64/semget.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/x86_64/semget.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(semget,semget)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/semop.S dietlibc-0.30-execstack/x86_64/semop.S
--- dietlibc-0.30/x86_64/semop.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/x86_64/semop.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(semop,semop)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/sendmsg.S dietlibc-0.30-execstack/x86_64/sendmsg.S
--- dietlibc-0.30/x86_64/sendmsg.S	2002-08-05 20:08:41.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/sendmsg.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(sendmsg, sendmsg);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/sendto.S dietlibc-0.30-execstack/x86_64/sendto.S
--- dietlibc-0.30/x86_64/sendto.S	2002-08-05 20:08:41.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/sendto.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(sendto, sendto);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/setjmp.S dietlibc-0.30-execstack/x86_64/setjmp.S
--- dietlibc-0.30/x86_64/setjmp.S	2005-01-28 17:04:54.000000000 +0100
+++ dietlibc-0.30-execstack/x86_64/setjmp.S	2006-09-07 12:24:13.079171250 +0200
@@ -35,3 +35,7 @@ link_warning("__sigsetjmp","setjmp() not
 //link_warning("setjmp","error: setjmp() not yet implemented")
 //link_warning("__sigsetjmp","error: setjmp() not yet implemented")
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/setsockopt.S dietlibc-0.30-execstack/x86_64/setsockopt.S
--- dietlibc-0.30/x86_64/setsockopt.S	2002-08-05 20:08:41.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/setsockopt.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(setsockopt, setsockopt);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/shmat.S dietlibc-0.30-execstack/x86_64/shmat.S
--- dietlibc-0.30/x86_64/shmat.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/x86_64/shmat.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(shmat,shmat)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/shmctl.S dietlibc-0.30-execstack/x86_64/shmctl.S
--- dietlibc-0.30/x86_64/shmctl.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/x86_64/shmctl.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(shmctl,shmctl)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/shmdt.S dietlibc-0.30-execstack/x86_64/shmdt.S
--- dietlibc-0.30/x86_64/shmdt.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/x86_64/shmdt.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(shmdt,shmdt)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/shmget.S dietlibc-0.30-execstack/x86_64/shmget.S
--- dietlibc-0.30/x86_64/shmget.S	2003-01-04 23:21:48.000000000 +0100
+++ dietlibc-0.30-execstack/x86_64/shmget.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(shmget,shmget)
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/shutdown.S dietlibc-0.30-execstack/x86_64/shutdown.S
--- dietlibc-0.30/x86_64/shutdown.S	2002-08-05 20:08:41.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/shutdown.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(shutdown, shutdown);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/socketpair.S dietlibc-0.30-execstack/x86_64/socketpair.S
--- dietlibc-0.30/x86_64/socketpair.S	2002-08-05 20:08:41.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/socketpair.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(socketpair, socketpair);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/socket.S dietlibc-0.30-execstack/x86_64/socket.S
--- dietlibc-0.30/x86_64/socket.S	2002-08-05 20:08:41.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/socket.S	2006-09-07 12:24:13.075171000 +0200
@@ -1,3 +1,7 @@
 #include "syscalls.h"
 
 syscall(socket, socket);
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/start.S dietlibc-0.30-execstack/x86_64/start.S
--- dietlibc-0.30/x86_64/start.S	2006-04-04 07:35:14.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/start.S	2006-09-07 12:24:13.075171000 +0200
@@ -53,3 +53,7 @@ _start:
 .Lstart:
 	.size	 _start,.Lstart-_start
 
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/__testandset.S dietlibc-0.30-execstack/x86_64/__testandset.S
--- dietlibc-0.30/x86_64/__testandset.S	2002-09-16 13:17:02.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/__testandset.S	2006-09-07 12:24:13.075171000 +0200
@@ -10,3 +10,7 @@ __testandset:
 	ret
 
 link_warning("__testandset", "warning: __testandset() was never tested!")
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/umount.S dietlibc-0.30-execstack/x86_64/umount.S
--- dietlibc-0.30/x86_64/umount.S	2002-09-02 17:49:28.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/umount.S	2006-09-07 12:24:13.075171000 +0200
@@ -7,3 +7,7 @@ umount:
         mov     $__NR_umount2,%al
         xorq    %rsi,%rsi
         jmp     __unified_syscall
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/unified.S dietlibc-0.30-execstack/x86_64/unified.S
--- dietlibc-0.30/x86_64/unified.S	2005-05-08 01:07:33.000000000 +0200
+++ dietlibc-0.30-execstack/x86_64/unified.S	2006-09-07 12:24:13.075171000 +0200
@@ -30,3 +30,7 @@ __unified_syscall:
 	ret
 .Lhere:
 	.size	 __unified_syscall,.Lhere-__unified_syscall
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
diff -NurpP dietlibc-0.30/x86_64/waitpid.S dietlibc-0.30-execstack/x86_64/waitpid.S
--- dietlibc-0.30/x86_64/waitpid.S	2005-01-28 17:04:54.000000000 +0100
+++ dietlibc-0.30-execstack/x86_64/waitpid.S	2006-09-07 12:24:13.075171000 +0200
@@ -10,3 +10,7 @@ __libc_waitpid:
 	xor	%rcx,%rcx
 	mov	$__NR_wait4,%al
 	jmp	__unified_syscall
+
+#ifdef __ELF__
+.section .note.GNU-stack,"",%progbits
+#endif
