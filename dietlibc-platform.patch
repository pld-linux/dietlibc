diff -uNrp dietlibc-0.29.orig/diet.c dietlibc-0.29/diet.c
--- dietlibc-0.29.orig/diet.c	2005-05-18 16:38:55.000000000 +0200
+++ dietlibc-0.29/diet.c	2005-07-24 13:34:27.317983752 +0200
@@ -142,6 +142,10 @@ int main(int argc,char *argv[]) {
       memmove(shortplatform,argv[1],(size_t)(tmp2-cc));
       platform[tmp2-cc+len]=0;
       if (shortplatform[0]=='i' && shortplatform[2]=='8' && shortplatform[3]=='6') shortplatform[1]='3';
+      else if (!strncmp(shortplatform, "pentium4", 8)) strcpy(shortplatform, "i386");
+      else if (!strncmp(shortplatform, "pentium3", 8)) strcpy(shortplatform, "i386");
+      else if (!strncmp(shortplatform, "athlon", 6)) strcpy(shortplatform, "i386");
+      else if (!strncmp(shortplatform, "amd64", 5)) strcpy(shortplatform, "x86_64");
     } else {
 #ifdef __sparc__
 #ifdef __arch64__
